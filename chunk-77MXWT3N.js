import{a as kt}from"./chunk-J3ZAGNUD.js";import{a as $t}from"./chunk-WZPVUKID.js";import{a as Be}from"./chunk-FRPVMRJE.js";import{$ as I,$b as It,A as b,Ab as pt,Bb as X,Cb as mt,D as ie,Ea as q,F as h,G as te,Ga as H,Gb as dt,H as p,Ha as ot,Hb as gt,I as A,Ia as ze,Ib as _t,J as ne,Ja as at,Jb as ft,K as s,Ka as Q,L as r,La as G,M as f,Ma as st,N as Oe,O as De,Ob as ut,P as w,Pa as oe,Q as y,Qa as Ee,R as m,Rb as ht,S as V,Sa as Ve,Sb as vt,T as ye,Ta as Y,Tb as xt,Ua as ae,Ub as Ct,V as be,Va as se,Vb as yt,W as Ie,Wa as re,Wb as bt,X as we,Xb as de,Y as P,Yb as je,Z as _,Zb as Le,_ as S,_b as Ue,aa as j,ac as wt,ba as ke,ca as D,cc as ge,da as k,ea as T,eb as rt,fa as Te,fb as Fe,fc as L,ga as F,gb as Re,gc as Ne,h as Yt,ha as Xe,ic as St,ja as u,jc as _e,ka as v,kb as $,kc as Pt,la as Ze,lb as le,lc as Mt,ma as We,mb as ce,n as Pe,nb as pe,ob as lt,oc as Ot,pc as Dt,q as U,qa as W,r as Me,ra as z,s as x,sa as et,sb as me,t as C,u as Je,ua as tt,ub as Ae,v as N,va as R,vb as K,x as ee,xa as it,xb as J,y as O,yb as ct,z as a,za as nt}from"./chunk-IY7OHWIH.js";var Jt=()=>[1,2,3],Xt=i=>["/facility/details/",i];function Zt(i,c){if(i&1){let o=w();s(0,"div",16)(1,"p-iconField",17),f(2,"p-inputIcon",18),s(3,"input",19),u(4,"translate"),T("ngModelChange",function(t){x(o);let e=m();return k(e.searchTerm,t)||(e.searchTerm=t),C(t)}),y("keyup",function(){x(o);let t=m();return C(t.getSpecFacility(t.searchTerm,t.lat,t.lon))}),r()()()}if(i&2){let o=m();a(3),V("placeholder",v(4,2,"search")),D("ngModel",o.searchTerm)}}function ei(i,c){i&1&&(s(0,"div",21),f(1,"p-skeleton",22),r())}function ti(i,c){i&1&&(s(0,"div"),h(1,ei,2,0,"div",20),r()),i&2&&(a(),p("ngForOf",F(1,Jt)))}function ii(i,c){if(i&1&&(s(0,"span",32),f(1,"i",33),s(2,"span"),_(3),r()()),i&2){let o=m(2).$implicit;a(3),I("",(o.distance-0).toFixed(2)," KM")}}function ni(i,c){if(i&1){let o=w();s(0,"a",25)(1,"div",26)(2,"div",27)(3,"span",28),_(4),r(),h(5,ii,4,1,"span",29),r(),s(6,"img",30),y("error",function(t){x(o);let e=m(2);return C(e.handleImage(t))}),r(),f(7,"div",31),r()()}if(i&2){let o=m().$implicit,n=m();p("routerLink",Xe(5,Xt,o.id)),a(4),S(o.user_name),a(),p("ngIf",o.distance),a(),p("src",n.facilityImageBaseurl+o.img,O)("alt",o.user_name)}}function oi(i,c){if(i&1&&(s(0,"div",23),h(1,ni,8,7,"a",24),r()),i&2){let o=m();a(),p("ngIf",o.allFacilties.length>0)}}function ai(i,c){i&1&&(s(0,"div",21),f(1,"img",34),s(2,"h5",35),_(3),u(4,"translate"),r()()),i&2&&(a(3),I(" ",v(4,1,"sorry, there is no content")," "))}function si(i,c){if(i&1){let o=w();s(0,"div",36),y("scrolled",function(){x(o);let t=m();return C(t.onScroll())}),r()}i&2&&p("infiniteScrollDistance",2)("infiniteScrollThrottle",1e3)}function ri(i,c){i&1&&(s(0,"div",37),f(1,"ngx-spinner",38),r()),i&2&&(a(),p("fullScreen",!1))}function li(i,c){i&1&&(s(0,"div",39)(1,"span",40),_(2),u(3,"translate"),r()()),i&2&&(a(2),I(" ",v(3,1,"no more facilities")," "))}var Vt=(()=>{let c=class c{constructor(n,t,e,l,d,g,M){this.common=n,this.service=t,this.activate=e,this.router=l,this.platformId=d,this.translate=g,this.spinner=M,this.token="",this.serviceImageBaseurl="",this.allFacilties=[],this.facilityImageBaseurl="",this.noData=!1,this.dataDone=!1,this.loading=!0,this.categoryName="",this.ParentId="",this.searchTerm="",this.emptyCategory=!1,this.noMoreFacilities=!1,this.start=10,R(this.platformId)&&(this.token=localStorage.getItem("token"),this.translate.use(localStorage.getItem("front-lang")==null?"ar":localStorage.getItem("front-lang")))}ngOnInit(){this.spinner.show(),this.serviceImageBaseurl=this.common.serviceImageUrl,this.facilityImageBaseurl=this.service.facilityImageUrl,navigator.geolocation.getCurrentPosition(n=>{this.lat=n.coords.latitude,this.lon=n.coords.longitude,console.log(n)}),setTimeout(()=>{this.getAllFacilities(this.lat,this.lon)},2e3)}getAllFacilities(n,t,e=0,l=10){this.activate.paramMap.subscribe(d=>{let g=d.get("id");this.ParentId=d.get("id"),this.categoryName=d.get("name"),this.service.GetAllPageAccs(g,n,t,"",e,l).subscribe({next:M=>{console.log(M),M?.success?(M?.data.forEach(E=>{this.allFacilties.push(E)}),this.noData=!1):this.allFacilties.length>0?this.noMoreFacilities=!0:(this.emptyCategory=!0,this.noData=!0),this.loading=!1,this.spinner.hide()},error:M=>{console.log(M),this.spinner.hide(),this.noData=!0,this.loading=!1}})})}handleImage(n){n.target.src="assets/images/placeholder2.jpg"}getSpecFacility(n,t,e,l=0,d=10){clearTimeout(this.timeOut),setTimeout(()=>{this.service.GetAllPageAccs(this.ParentId,t,e,n,l,d).subscribe({next:g=>{console.log(g),g?.success?(this.allFacilties=g?.data,this.noData=!1,this.loading=!1):this.allFacilties.length>0?this.noMoreFacilities=!0:this.noData=!0},error:g=>{console.log(g),this.spinner.hide(),this.noData=!0,this.loading=!1}})},1e3)}onScroll(){!this.noMoreFacilities&&this.allFacilties?.length>10&&(this.loading=!0,this.spinner.show(),this.searchTerm?this.getSpecFacility(this.searchTerm,this.lat,this.lon,this.start,10):this.getAllFacilities(this.lat,this.lon,this.start,10),this.start=this.start+10)}};c.\u0275fac=function(t){return new(t||c)(b(Y),b(Be),b(q),b(H),b(N),b(Q),b($))},c.\u0275cmp=U({type:c,selectors:[["app-all-facilties"]],decls:25,vars:16,consts:[[1,"facilities"],[1,"container"],[1,"row"],[1,"col-12"],[1,"breadcrumbb","position-relative",2,"z-index","12"],[1,"position-relative",2,"z-index","12"],["src","assets/images/orderBreadcrumb.png","alt","orderBreadcrumb",1,"position-absolute","top-0","start-0","w-100","h-100"],["routerLink","/",1,"main-breadcrumb","text-white"],[1,"mx-2"],["class","col-md-7 my-2",4,"ngIf"],[4,"ngIf"],["class","col-md-7 animate__animated animate__fadeInDown",4,"ngFor","ngForOf"],["class","col-md-7",4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],["class","col-md-7 position-relative mt-5",4,"ngIf"],["class","col-md-7 text-center mt-2",4,"ngIf"],[1,"col-md-7","my-2"],["iconPosition","left",1,"input-container"],["styleClass","pi pi-search"],["type","text","pInputText","",3,"ngModelChange","keyup","placeholder","ngModel"],["class","col-md-7",4,"ngFor","ngForOf"],[1,"col-md-7"],["styleClass","mb-2 skeleton",1,"skeleton"],[1,"col-md-7","animate__animated","animate__fadeInDown"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"my-3","faciilty-container","position-relative"],[1,"position-absolute","bottom-0","start-0","p-3","d-flex","justify-content-between","align-items-center","w-100",2,"z-index","12"],[1,"text-white"],["class","text-white d-flex justify-content-center align-items-center","style","cursor: pointer;",4,"ngIf"],[1,"position-absolute","top-0","start-0","w-100","h-auto",3,"error","src","alt"],[1,"layer","position-absolute","w-100","top-0","start-0","h-100"],[1,"text-white","d-flex","justify-content-center","align-items-center",2,"cursor","pointer"],[1,"fa-solid","fa-location-dot","me-1"],["src","assets/images/undraw_not_found_re_bh2e.svg","alt","no-data",1,"d-block","m-auto","mt-5","w-100"],[1,"mt-2","text-center"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle"],[1,"col-md-7","position-relative","mt-5"],["bdColor","#fff","size","default","color","#80b127","type","ball-clip-rotate",3,"fullScreen"],[1,"col-md-7","text-center","mt-2"],[1,"no-more","mt-3"]],template:function(t,e){t&1&&(s(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),_(6),u(7,"translate"),r(),f(8,"img",6),s(9,"div",5)(10,"a",7),_(11),u(12,"translate"),r(),s(13,"span",8),_(14,">"),r(),s(15,"span"),_(16),u(17,"translate"),r()()()(),h(18,Zt,5,4,"div",9)(19,ti,2,2,"div",10)(20,oi,2,1,"div",11),r(),h(21,ai,5,3,"div",12)(22,si,1,2,"div",13)(23,ri,2,1,"div",14)(24,li,4,3,"div",15),r()()),t&2&&(a(6),S(v(7,10,e.categoryName)),a(5),S(v(12,12,"Main")),a(5),S(v(17,14,e.categoryName)),a(2),p("ngIf",!e.emptyCategory),a(),p("ngIf",e.loading),a(),p("ngForOf",e.allFacilties),a(),p("ngIf",e.noData),a(),p("ngIf",e.allFacilties==null?null:e.allFacilties.length),a(),p("ngIf",e.loading),a(),p("ngIf",e.noMoreFacilities))},dependencies:[W,z,ot,K,J,X,dt,ce,pe,le,gt,_t,G],styles:[".facilities[_ngcontent-%COMP%]   .breadcrumbb[_ngcontent-%COMP%]{margin:30px 0;padding:50px 40px;background-color:#80b127;color:#fff;border-radius:10px;overflow:hidden}@media screen and (max-width: 577px){.facilities[_ngcontent-%COMP%]   .breadcrumbb[_ngcontent-%COMP%]{margin:10px 0;padding:20px}}.facilities[_ngcontent-%COMP%]   .breadcrumbb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:10%;transform:scale(1.1,3.5)}.facilities[_ngcontent-%COMP%]   .breadcrumbb[_ngcontent-%COMP%]   .main-breadcrumb[_ngcontent-%COMP%]{font-size:20px}.facilities[_ngcontent-%COMP%]   .faciilty-container[_ngcontent-%COMP%]{padding:150px 0;border-radius:10px;overflow:hidden}.facilities[_ngcontent-%COMP%]   .faciilty-container[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{background:linear-gradient(to top,#000000ba,#00000080)}@media screen and (max-width: 577px){.facilities[_ngcontent-%COMP%]   .faciilty-container[_ngcontent-%COMP%]{padding:100px 0}}.facilities[_ngcontent-%COMP%]     .skeleton .p-skeleton{height:300px!important}@media screen and (max-width: 577px){.facilities[_ngcontent-%COMP%]     .skeleton .p-skeleton{height:150px!important}}.facilities[_ngcontent-%COMP%]     .p-skeleton:after{background:linear-gradient(90deg,#fff0,#ffffffe6,#fff0)}.facilities[_ngcontent-%COMP%]     .p-inputtext{width:100%}.facilities[_ngcontent-%COMP%]   .no-more[_ngcontent-%COMP%]{border:1px solid #7A7A7A;border-radius:10px;padding:10px}"]});let i=c;return i})();var zt=Yt($t());var mi=()=>({width:"50vw"}),di=()=>({"800px":"75vw","575px":"90vw"}),gi=()=>({width:"250px"});function _i(i,c){if(i&1){let o=w();s(0,"img",35),y("error",function(t){x(o);let e=m(2);return C(e.handleImage(t))}),r()}if(i&2){let o=m(2);p("src",o.facilityImageBaseurl+(o.facilityDetails==null?null:o.facilityDetails.img),O)}}function fi(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",36),r())}function ui(i,c){if(i&1&&(s(0,"div",30),h(1,_i,1,1,"img",31)(2,fi,2,0,"div",10),s(3,"span",32),f(4,"i",33),s(5,"span",34),_(6),r()()()),i&2){let o=m();a(),p("ngIf",o.dataDone),a(),p("ngIf",!o.dataDone),a(4),I(" ",o.noOfFollowers," ")}}function hi(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",37),r())}function vi(i,c){i&1&&f(0,"i",41)}function xi(i,c){if(i&1&&(s(0,"span"),_(1),r()),i&2){let o=m(2);a(),I("",((o.facilityDetails==null?null:o.facilityDetails.distance)-0).toFixed(2)," KM")}}function Ci(i,c){if(i&1){let o=w();s(0,"div",38)(1,"span",39),y("click",function(){x(o);let t=m();return C(t.goToMaps())}),h(2,vi,1,0,"i",40)(3,xi,2,1,"span",10),r()()}if(i&2){let o=m();a(2),p("ngIf",!o.ownFacility||o.userMode),a(),p("ngIf",(!o.ownFacility||o.userMode&&o.dataDone)&&(o.facilityDetails==null?null:o.facilityDetails.distance))}}function yi(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",42),r())}function bi(i,c){i&1&&f(0,"i",45)}function Ii(i,c){i&1&&f(0,"i",46)}function wi(i,c){if(i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2){let o=m(2);a(),ke("",(o.allRates-0).toFixed(2)," / ",o.facilityDetails==null?null:o.facilityDetails.rate_info.num_of_rates," ",v(2,3,"Review"),"")}}function Si(i,c){if(i&1&&(s(0,"div"),h(1,bi,1,0,"i",43)(2,Ii,1,0,"i",44)(3,wi,3,5,"span",10),r()),i&2){let o=m();a(),p("ngIf",o.ratingValue==0),a(),p("ngIf",o.ratingValue!==0),a(),p("ngIf",o.dataDone)}}function Pi(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",37),r())}function Mi(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",47),r())}function Oi(i,c){if(i&1&&(s(0,"div")(1,"a",48),f(2,"i",49),_(3),r()()),i&2){let o=m();a(),p("href","tel:"+(o.facilityDetails==null?null:o.facilityDetails.dial_code)+(o.facilityDetails==null?null:o.facilityDetails.mobile),O),a(2),I(" ",(o.facilityDetails==null?null:o.facilityDetails.dial_code)+(o.facilityDetails==null?null:o.facilityDetails.mobile)," ")}}function Di(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",47),r())}function ki(i,c){if(i&1&&(s(0,"div")(1,"span"),_(2),r()()),i&2){let o=m();a(2),I("#",o.facilityDetails==null?null:o.facilityDetails.id,"")}}function Ti(i,c){if(i&1&&(s(0,"span"),_(1),r()),i&2){let o=c.$implicit;a(),I(" ",o.user_name," ")}}function Ei(i,c){if(i&1&&(s(0,"div",54),h(1,Ti,2,1,"span",55),r()),i&2){let o=m(3);a(),p("ngForOf",o.followPageReports[0])}}function Vi(i,c){if(i&1&&(s(0,"span"),_(1),r()),i&2){let o=c.$implicit;a(),I(" ",o.user_name," ")}}function Fi(i,c){if(i&1&&(s(0,"div",54),h(1,Vi,2,1,"span",55),r()),i&2){let o=m(3);a(),p("ngForOf",o.likePageReports[0])}}function Ri(i,c){if(i&1){let o=w();s(0,"div")(1,"p-button",56),y("click",function(t){x(o);let e=P(3);return C(e.toggle(t))}),r(),s(2,"p-overlayPanel",null,2)(4,"div",57)(5,"div",58)(6,"span"),_(7),u(8,"translate"),r(),s(9,"span",59),y("click",function(t){x(o);let e=P(3),l=m(3);return l.common.layerOn=!1,C(e.toggle(t))}),f(10,"i",60),r()(),s(11,"div",61)(12,"button",62),y("click",function(t){x(o);let e=P(3),l=m(3);return e.toggle(t),C(l.openDialog("post"))}),s(13,"span"),f(14,"img",63),r(),s(15,"span"),_(16),u(17,"translate"),r()(),s(18,"button",62),y("click",function(t){x(o);let e=P(3),l=m(3);return e.toggle(t),C(l.openDialog("image"))}),s(19,"span"),f(20,"img",64),r(),s(21,"span"),_(22),u(23,"translate"),r()(),s(24,"button",62),y("click",function(t){x(o);let e=P(3),l=m(3);return e.toggle(t),C(l.openDialog("video"))}),s(25,"span"),f(26,"img",65),r(),s(27,"span"),_(28),u(29,"translate"),r()()()()()()}i&2&&(a(2),A(F(14,gi)),a(5),I(" ",v(8,6,"Add Content")," "),a(9),I(" ",v(17,8,"Product")," "),a(6),I(" ",v(23,10,"Image")," "),a(6),I(" ",v(29,12,"Video")," "))}function Bi(i,c){if(i&1&&(s(0,"div",52)(1,"div")(2,"span",53),_(3),u(4,"translate"),r(),h(5,Ei,2,1,"ng-template",null,0,We),s(7,"span",53),_(8),u(9,"translate"),r(),h(10,Fi,2,1,"ng-template",null,1,We),r(),h(12,Ri,30,15,"div",10),r()),i&2){let o=P(6),n=P(11),t=m(2);a(2),p("pTooltip",(t.followPageReports[0]==null?null:t.followPageReports[0].length)>0?o:void 0)("tooltipOptions",t.tooltipOptions),a(),j(" ",t.noOfFollowers," ",v(4,9,"Followers")," "),a(4),p("pTooltip",(t.likePageReports[0]==null?null:t.likePageReports[0].length)>0?n:void 0)("tooltipOptions",t.tooltipOptions),a(),j(" ",t.noOfLovers," ",v(9,11,"Love")," "),a(4),p("ngIf",!(!t.ownFacility||t.userMode))}}function Ai(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",66),r())}function ji(i,c){i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"Love")," "))}function Li(i,c){i&1&&(s(0,"span",71),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"Un Love")," "))}function Ui(i,c){i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"Follow")," "))}function Ni(i,c){i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"Un Follow")," "))}function Wi(i,c){i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"Rate")," "))}function zi(i,c){i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"Re-Rate")," "))}function qi(i,c){if(i&1){let o=w();s(0,"div",67)(1,"p-button",62),y("click",function(){x(o);let t=m(2);return C(t.likePage(t.facilityDetails==null?null:t.facilityDetails.id))}),h(2,ji,3,3,"span",10)(3,Li,3,3,"span",68),r(),s(4,"p-button",62),y("click",function(){x(o);let t=m(2);return C(t.followFacility(t.facilityDetails==null?null:t.facilityDetails.id))}),h(5,Ui,3,3,"span",10)(6,Ni,3,3,"span",10),r(),s(7,"p-button",62),y("click",function(){x(o);let t=m(2);return C(t.getReportReasons(t.facilityDetails==null?null:t.facilityDetails.id))}),s(8,"span"),_(9),u(10,"translate"),r()(),s(11,"p-button",62),y("click",function(){x(o);let t=m(2);return C(t.showDialog())}),h(12,Wi,3,3,"span",10)(13,zi,3,3,"span",10),r(),s(14,"p-dialog",69),u(15,"translate"),T("visibleChange",function(t){x(o);let e=m(2);return k(e.visible,t)||(e.visible=t),C(t)}),s(16,"p-rating",70),T("ngModelChange",function(t){x(o);let e=m(2);return k(e.ratingValue,t)||(e.ratingValue=t),C(t)}),r(),s(17,"p-button",62),y("click",function(){x(o);let t=m(2);return C(t.rateFacility())}),_(18),u(19,"translate"),r()()()}if(i&2){let o=m(2);a(2),p("ngIf",!o.isLove),a(),p("ngIf",o.isLove),a(2),p("ngIf",!o.isFollow),a(),p("ngIf",o.isFollow),a(3),I(" ",v(10,13,"Report")," "),a(3),p("ngIf",(o.facilityDetails==null?null:o.facilityDetails.rate_info.my_rate)==0||!(o.facilityDetails!=null&&o.facilityDetails.rate_info.my_rate)),a(),p("ngIf",(o.facilityDetails==null?null:o.facilityDetails.rate_info.my_rate)>0&&(o.facilityDetails==null?null:o.facilityDetails.rate_info.my_rate)),a(),V("header",v(15,15,"Rate Facility")),D("visible",o.visible),p("modal",!0),a(2),D("ngModel",o.ratingValue),p("cancel",!1),a(2),I(" ",v(19,17,"Submit")," ")}}function Hi(i,c){if(i&1&&h(0,Bi,13,13,"div",50)(1,Ai,2,0,"div",10)(2,qi,20,19,"div",51),i&2){let o=m();p("ngIf",o.dataDone),a(),p("ngIf",!o.dataDone),a(),p("ngIf",(!o.ownFacility||o.userMode)&&o.dataDone)}}function Qi(i,c){if(i&1&&(s(0,"div",72),f(1,"app-all-posts",73),r()),i&2){let o=m();a(),p("posts",o.postsPinned)}}function Gi(i,c){if(i&1&&(s(0,"div",72),f(1,"app-all-posts",74),r()),i&2){let o=m();a(),p("posts",o.postsUnpinned)("postsPinned",o.postsPinned)}}function Yi(i,c){i&1&&(s(0,"div"),f(1,"img",75),s(2,"h5",76),_(3),u(4,"translate"),r()()),i&2&&(a(3),I(" ",v(4,1,"sorry, there is no content")," "))}function $i(i,c){if(i&1){let o=w();s(0,"div",77),y("scrolled",function(){x(o);let t=m();return C(t.onScroll())}),r()}i&2&&p("infiniteScrollDistance",2)("infiniteScrollThrottle",1e3)}function Ki(i,c){i&1&&(s(0,"div",78),f(1,"ngx-spinner",79),r()),i&2&&(a(),p("fullScreen",!1))}function Ji(i,c){i&1&&(s(0,"div",80)(1,"span",81),_(2),u(3,"translate"),r()()),i&2&&(a(2),I(" ",v(3,1,"no more posts")," "))}function Xi(i,c){if(i&1){let o=w();s(0,"div",82)(1,"p-radioButton",83),T("ngModelChange",function(t){x(o);let e=m();return k(e.selectedReason,t)||(e.selectedReason=t),C(t)}),r(),s(2,"label",84),_(3),r()()}if(i&2){let o=c.$implicit,n=m();a(),p("inputId",o.id)("value",o.id),D("ngModel",n.selectedReason),a(),p("for",o.id),a(),I(" ",o.name," ")}}function Zi(i,c){i&1&&(s(0,"span",34),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"confirm")," "))}function en(i,c){i&1&&f(0,"span",85)}var qt=(()=>{let c=class c{constructor(n,t,e,l,d,g,M,E,fe,ue,he,ve,xe,Ce,Z){this.common=n,this.service=t,this.activate=e,this.router=l,this.platformId=d,this.translate=g,this.post=M,this.render=E,this.el=fe,this.dialogService=ue,this.spinner=he,this.message=ve,this.order=xe,this.notify=Ce,this.profile=Z,this.token="",this.serviceImageBaseurl="",this.facilityImageBaseurl="",this.postsPinned=[],this.postsUnpinned=[],this.postImageBaseurl="",this.postslike=[],this.noOfLikesPost=[],this.ratingValue="",this.visible=!1,this.pageId="",this.allRates="",this.ownFacility=!1,this.userMode=!0,this.visitorMode=!0,this.dataDone=!1,this.isParentInitialized=!1,this.postDone=!1,this.likePageReports=[],this.followPageReports=[],this.tooltipOptions={showDelay:150,autoHide:!1,tooltipEvent:"hover"},this.reportVisible=!1,this.selectedReason="",this.reasonText="",this.loading=!1,this.loadingReport=!1,this.start=10,this.noMorePosts=!1,this.allposts=[],this.noData=!1,R(this.platformId)&&(this.token=localStorage.getItem("token"),this.userMode=localStorage.getItem("profile-mode")=="user",this.visitorMode=localStorage.getItem("isVisitor")=="true",this.translate.use(localStorage.getItem("front-lang")==null?"ar":localStorage.getItem("front-lang")),this.lat=localStorage.getItem("lat"),this.lon=localStorage.getItem("lon"))}ngOnInit(){this.serviceImageBaseurl=this.common.serviceImageUrl,this.facilityImageBaseurl=this.service.facilityImageUrl,this.postImageBaseurl=this.post.PostImageUrl,this.post.getReportingReasons().subscribe({next:n=>{this.reasons=n?.data},error:n=>{console.log(n)}}),this.common.subscriptionData.subscribe(n=>{n&&(this.subscriptionData=n)}),this.activate.paramMap.subscribe(n=>{this.pageId=n.get("pageId");let t=n.get("pageId");this.getFacilityDetails(t),this.getReports("followers",t,this.followPageReports),this.getReports("like",t,this.likePageReports),this.subUpdate=this.common.updatedPost.subscribe(e=>{console.log(e),e&&(this.allposts=[],this.spinner.show("main-spinner"),this.getFacilityDetails(t))})})}getFacilityDetails(n){this.service.GetOneFacility(n,this.lat,this.lon).subscribe({next:t=>{console.log(t),R(this.platformId)&&n!==localStorage.getItem("pageId")&&!this.userMode&&this.token&&this.router.navigate(["/facility/details/",localStorage.getItem("pageId")]),t?.success?(this.getProfilePost(n),this.dataDone=!0,this.facilityDetails=t?.data,R(this.platformId)&&(this.ownFacility=n==localStorage.getItem("pageId")),console.log(this.facilityDetails),this.isLove=t?.data.likePage,this.isFollow=t?.data.followHim,this.noOfLovers=t?.data.statistics.like,this.noOfFollowers=t?.data.statistics.followHimNum,this.ratingValue=t?.data.rate_info.my_rate,this.allRates=t?.data.rate_info.rate):this.router.navigate(["/home"])},error:t=>{console.log(t)}})}getProfilePost(n,t=0,e=10){this.post.getProfilePost(n,t,e).subscribe({next:l=>{console.log(l),l?.success?(this.allposts.push(...l?.data),console.log(this.allposts),this.postsUnpinned=this.allposts.filter(d=>d.pined=="0"),this.postsPinned=this.allposts.filter(d=>d.pined=="1"),console.log(this.postsUnpinned),console.log(this.postsPinned),this.loading=!1,this.noData=!1,this.postDone=!0):(this.allposts.length==0?this.noData=!0:this.noMorePosts=!0,this.loading=!1),this.spinner.hide("main-spinner")},error:l=>{console.log(l),this.loading=!1,this.spinner.hide("main-spinner")}})}getReports(n,t,e){this.profile.getreportMembersList(n,t,"page").subscribe({next:l=>{l?.success&&e.push(l?.data)},error:l=>{console.log(l)}})}handleImage(n){n.target.src="assets/images/placeholder2.jpg"}likePage(n){this.visitorMode?this.translate.get("please  log in").subscribe(t=>{this.message.add({severity:"warn",detail:t})}):(this.isLove==!0?this.noOfLovers--:(this.notify.sendNotificationByType("","","likeFacility","",this.pageId).subscribe({next:t=>{console.log(t)},error:t=>{console.log(t)}}),this.noOfLovers++),this.isLove=!this.isLove,this.post.likePageOrPost(n,"page").subscribe({next:t=>{console.log(t)}}))}followFacility(n){this.visitorMode?this.translate.get("please  log in").subscribe(t=>{this.message.add({severity:"warn",detail:t})}):(this.isFollow==!0?this.noOfFollowers--:(this.noOfFollowers++,this.notify.sendNotificationByType("","","following","","",this.pageId).subscribe({next:t=>{console.log(t)},error:t=>{console.log(t)}})),this.isFollow=!this.isFollow,this.service.followFacility(n).subscribe({next:t=>{console.log(t)},error:t=>{console.log(t)}}))}showDialog(){this.visitorMode?this.translate.get("please  log in").subscribe(n=>{this.message.add({severity:"warn",detail:n})}):this.visible=!0}rateFacility(){this.visitorMode?this.translate.get("please  log in").subscribe(n=>{this.message.add({severity:"warn",detail:n})}):(console.log(this.ratingValue),this.visible=!1,this.service.rateFacility(this.pageId,this.ratingValue).subscribe({next:n=>{console.log(n),n?.success&&(this.allRates=n?.data.rate,this.facilityDetails?.rate_info.num_of_rates-0+1)},error:n=>{console.log(n)}}))}goToPostDetails(n){this.router.navigate(["/facility/post",n])}styleCloseIcon(n){setTimeout(()=>{let t=n.container.querySelector(".p-overlaypanel-close");this.common.lang_code=="ar"?this.render.addClass(t,"isRight"):this.render.addClass(t,"isLeft")},50)}fireSweetAlert(){zt.default.fire({title:this.translate.instant("free posts has exceeded"),text:this.translate.instant("please subscribe to add more posts"),icon:"question",showCancelButton:!0,confirmButtonColor:"#80B127",cancelButtonColor:"#d33",confirmButtonText:this.translate.instant("subscribe now"),cancelButtonText:this.translate.instant("later"),customClass:{confirmButton:"btn btn-outline-main mx-2",cancelButton:"btn btn-outline-danger"},buttonsStyling:!1}).then(n=>{n.isConfirmed&&this.translate.get("sooooon").subscribe(t=>{this.message.add({severity:"error",detail:t})})})}openDialog(n,t=null,e="add"){if(this.subscriptionData?.is_subs=="0"&&this.subscriptionData?.post=="1"&&n=="post"){this.fireSweetAlert();return}else if(this.subscriptionData?.is_subs=="0"&&this.subscriptionData?.post_video=="1"&&n=="video"){this.fireSweetAlert();return}else if(this.subscriptionData?.is_subs=="0"&&this.subscriptionData?.post_img=="1"&&n=="image"){this.fireSweetAlert();return}n=="post"?n="product":n=n;let l=e+" "+n;this.translate.get(l).subscribe(d=>{this.ref=this.dialogService.open(Ne,{data:{type:n,post:t,action:e},header:d,width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},contentStyle:{"max-height":"90vh",overflow:"auto"}})}),this.ref?.onClose.subscribe(d=>{this.common.layerOn=!1,console.log(d),d?.type=="added"?(this.allposts=[],this.getFacilityDetails(this.pageId),this.notify.sendNotificationByType(d?.post_id,"","addPost",this.pageId).subscribe({next:g=>{console.log(g)},error:g=>{console.log(g)}}),this.message.add({severity:"success",detail:this.translate.instant("post has been added successfully")})):d=="not compelete"?this.message.add({severity:"error",detail:this.translate.instant("something went wrong")}):d?.type=="updated"?(this.getFacilityDetails(this.pageId),this.message.add({severity:"success",detail:this.translate.instant("Post has been updated successfully")})):(d==null||d?.type=="closed")&&(console.log(d),d?.attach&&this.profile.deleteImageByName(d?.attach).subscribe(g=>{console.log(g)}),this.message.add({severity:"error",detail:this.translate.instant("Action does not complete")}))})}toggleLayer(){this.common.layerOn=!this.common.layerOn}goToMaps(){let n=`https://www.google.com/maps?q=${this.facilityDetails?.lat},${this.facilityDetails?.lon}`;setTimeout(()=>{window.open(n,"_blank")},100)}getReportReasons(n){this.visitorMode?this.translate.get("please  log in").subscribe(t=>{this.message.add({severity:"warn",detail:t})}):this.reportVisible=!0}addReport(){if(!this.selectedReason){this.translate.get("You must select one of these reasons").subscribe(t=>{this.message.add({severity:"error",detail:t})});return}this.loadingReport=!0;let n={reason_id:this.selectedReason,comment:this.reasonText,type:"user",content_id:this.facilityDetails?.id};console.log(n),this.post.userAddContentReport(n).subscribe({next:t=>{console.log(t),this.loadingReport=!1,this.translate.get("request sent").subscribe(e=>{this.message.add({severity:"success",detail:e})}),this.reportVisible=!1},error:t=>{console.log(t),this.translate.get("please try again").subscribe(e=>{this.message.add({severity:"error",detail:e})}),this.loadingReport=!1}})}ngOnDestroy(){this.subUpdate.unsubscribe()}onScroll(){console.log("cc"),!this.noMorePosts&&this.allposts.length>=10&&(this.spinner.show("infinite-scroll"),this.loading=!0,this.getProfilePost(this.pageId,this.start),this.start=this.start+10)}};c.\u0275fac=function(t){return new(t||c)(b(Y),b(Be),b(q),b(H),b(N),b(Q),b(me),b(ie),b(Je),b(L),b($),b(oe),b(re),b(ae),b(se))},c.\u0275cmp=U({type:c,selectors:[["app-single-facility"]],features:[Te([L])],decls:47,vars:39,consts:[["tooltipContent1",""],["tooltipContent2",""],["op",""],[1,"facility-details"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-10","col-sm-12","mt-2"],["pTemplate","header"],[1,"my-2"],[1,"facility-title"],[4,"ngIf"],[1,"d-flex","justify-content-between"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","justify-content-between","mt-2"],[2,"font-family","'themify22', sans-serif",3,"innerHTML"],["pTemplate","footer"],[1,"row"],["class","col-md-7",4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],["class","position-relative mt-5",4,"ngIf"],["class","text-center mt-2 col-md-7",4,"ngIf"],[3,"visibleChange","header","visible","modal","draggable","breakpoints"],[1,"mb-4"],[1,"d-flex","flex-column","gap-3"],["class","field-checkbox",4,"ngFor","ngForOf"],["rows","5","cols","30","pInputTextarea","",3,"ngModelChange","placeholder","ngModel"],[1,"text-center"],[1,"btn","bg-main","confirm-btn",3,"click","disabled"],["class","text-white",4,"ngIf"],["class","loader",4,"ngIf"],[1,"position-relative"],["alt","Card","class","facility-img",3,"src","error",4,"ngIf"],[1,"position-absolute","bottom-0","start-0","user-icon","rounded-pill"],[1,"fa-regular","fa-user"],[1,"text-white"],["alt","Card",1,"facility-img",3,"error","src"],["width","100%","styleClass","mb-2",1,"skeleton"],["width","100px","height","20px","styleClass","mb-2"],[1,"d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center","align-items-center","position-relative",2,"cursor","pointer","z-index","12",3,"click"],["class","fa-solid fa-location-dot mx-1",4,"ngIf"],[1,"fa-solid","fa-location-dot","mx-1"],["width","90px","height","20px","styleClass","mb-2"],["class","fa-regular fa-star mx-1 text-rate",4,"ngIf"],["class","fa-solid fa-star mx-1 text-rate",4,"ngIf"],[1,"fa-regular","fa-star","mx-1","text-rate"],[1,"fa-solid","fa-star","mx-1","text-rate"],["width","150px","height","20px","styleClass","mb-2"],[3,"href"],[1,"fa-solid","fa-phone","main-color"],["class","d-flex justify-content-between align-items-center flex-wrap",4,"ngIf"],["class","d-flex gap-2 mt-2 flex-wrap",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],["tooltipPosition","bottom",1,"cursor",3,"pTooltip","tooltipOptions"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[4,"ngFor","ngForOf"],["label","+","styleClass","add-content-btn",3,"click"],[1,"d-flex","flex-column","align-items-start","btns-container"],[1,"header","d-flex","justify-content-between","w-100",2,"font-weight","600"],[2,"cursor","pointer",3,"click"],[1,"fa-solid","fa-xmark"],[1,"pt-3"],[3,"click"],["src","assets/images/product-vector.png","alt","add product",1,"img-fluid"],["src","assets/images/image.png","alt","add image",1,"img-fluid"],["src","assets/images/video.png","alt","add image",1,"img-fluid"],["width","120px","height","20px","styleClass","mb-2"],[1,"d-flex","gap-2","mt-2","flex-wrap"],["style","text-transform: wrap;",4,"ngIf"],[1,"rating-dialog",3,"visibleChange","header","visible","modal"],[3,"ngModelChange","ngModel","cancel"],[2,"text-transform","wrap"],[1,"col-md-7"],[3,"posts"],[3,"posts","postsPinned"],["src","assets/images/undraw_not_found_re_bh2e.svg","alt","no-data",1,"d-block","m-auto","mt-5","w-100"],[1,"mt-2","text-center"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle"],[1,"position-relative","mt-5"],["name","infinite-scroll","bdColor","#fff","size","default","color","#80b127","type","ball-clip-rotate",3,"fullScreen"],[1,"text-center","mt-2","col-md-7"],[1,"no-more","mt-3"],[1,"field-checkbox"],["name","reason",3,"ngModelChange","inputId","value","ngModel"],[1,"mx-2",3,"for"],[1,"loader"]],template:function(t,e){t&1&&(s(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"p-card"),h(5,ui,7,3,"ng-template",7),s(6,"div",8)(7,"span",9),_(8),r(),h(9,hi,2,0,"div",10),r(),s(10,"div",11),h(11,Ci,4,2,"div",12)(12,yi,2,0,"div",10)(13,Si,4,3,"div",10)(14,Pi,2,0,"div",10),r(),s(15,"div",13)(16,"div",14),h(17,Mi,2,0,"div",10),r(),s(18,"div"),h(19,Oi,4,2,"div",10)(20,Di,2,0,"div",10)(21,ki,3,1,"div",10),r()(),h(22,Hi,3,3,"ng-template",15),r(),s(23,"div",16),h(24,Qi,2,1,"div",17)(25,Gi,2,2,"div",17)(26,Yi,5,3,"div",10)(27,$i,1,2,"div",18)(28,Ki,2,1,"div",19)(29,Ji,4,3,"div",20),r()()()()(),f(30,"p-toast"),s(31,"p-dialog",21),u(32,"translate"),T("visibleChange",function(d){return k(e.reportVisible,d)||(e.reportVisible=d),d}),s(33,"div")(34,"h6",22),_(35),u(36,"translate"),r()(),s(37,"div",23),h(38,Xi,4,5,"div",24),s(39,"div")(40,"textarea",25),u(41,"translate"),T("ngModelChange",function(d){return k(e.reasonText,d)||(e.reasonText=d),d}),_(42,"            "),r()(),s(43,"div",26)(44,"button",27),y("click",function(){return e.addReport()}),h(45,Zi,3,3,"span",28)(46,en,1,0,"span",29),r()()()()),t&2&&(a(8),S(e.facilityDetails==null?null:e.facilityDetails.user_name),a(),p("ngIf",!e.dataDone),a(2),p("ngIf",e.dataDone&&(e.facilityDetails==null?null:e.facilityDetails.distance)),a(),p("ngIf",!e.dataDone),a(),p("ngIf",e.dataDone),a(),p("ngIf",!e.dataDone),a(2),p("innerHTML",e.facilityDetails==null?null:e.facilityDetails.description,ee),a(),p("ngIf",!e.dataDone),a(2),p("ngIf",(e.userMode||e.visitorMode)&&e.dataDone),a(),p("ngIf",!e.dataDone),a(),p("ngIf",!e.userMode&&!e.visitorMode&&e.dataDone),a(3),p("ngIf",e.postDone),a(),p("ngIf",e.postDone),a(),p("ngIf",e.noData),a(),p("ngIf",(e.allposts==null?null:e.allposts.length)>0),a(),p("ngIf",e.loading),a(),p("ngIf",e.noMorePosts),a(2),A(F(37,mi)),V("header",v(32,31,"report content")),D("visible",e.reportVisible),p("modal",!0)("draggable",!1)("breakpoints",F(38,di)),a(4),S(v(36,33,"report message")),a(3),p("ngForOf",e.reasons),a(2),V("placeholder",v(41,35,"write reason")),D("ngModel",e.reasonText),a(4),p("disabled",e.loadingReport),a(),p("ngIf",!e.loadingReport),a(),p("ngIf",e.loadingReport))},dependencies:[W,z,Mt,Ee,rt,K,J,X,Re,ut,bt,de,ce,pe,le,ge,Fe,lt,_e,G],styles:[".facility-details[_ngcontent-%COMP%]{font-family:themify22,sans-serif}.facility-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}.facility-details[_ngcontent-%COMP%]   .facility-img[_ngcontent-%COMP%]{height:450px;border-top-left-radius:10px;border-top-right-radius:10px}@media screen and (max-width: 577px){.facility-details[_ngcontent-%COMP%]   .facility-img[_ngcontent-%COMP%]{height:300px}}.facility-details[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{display:inline-block;padding:5px 15px;border-radius:20px;background-color:#80b127;margin-inline:10px;transform:translateY(50%)}.facility-details[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.facility-details[_ngcontent-%COMP%]   .text-rate[_ngcontent-%COMP%]{color:#f9af2c}.facility-details[_ngcontent-%COMP%]   .facility-title[_ngcontent-%COMP%]{line-height:20px;font-weight:700;color:#232323}.facility-details[_ngcontent-%COMP%]     .skeleton .p-skeleton{height:450px!important}@media screen and (max-width: 577px){.facility-details[_ngcontent-%COMP%]     .skeleton .p-skeleton{height:300px!important}}.facility-details[_ngcontent-%COMP%]     .p-skeleton:after{background:linear-gradient(90deg,#fff0,#ffffffe6,#fff0)}.facility-details[_ngcontent-%COMP%]     .p-card .p-card-content{padding:.25rem 0}.facility-details[_ngcontent-%COMP%]     span{font-family:themify22,sans-serif}.facility-details[_ngcontent-%COMP%]     .p-button{background:transparent;color:#7a7a7a;border:1px solid #CDCDCD;border-radius:10px;font-weight:700;padding:10px 25px;white-space:nowrap;font-family:themify22,sans-serif}@media screen and (max-width: 577px){.facility-details[_ngcontent-%COMP%]     .p-button{font-size:14px}}.facility-details[_ngcontent-%COMP%]     .mdc-list-item{padding-left:0;padding-right:0}.facility-details[_ngcontent-%COMP%]     .add-content-btn{padding:0 10px;background-color:var(--main-color)}.facility-details[_ngcontent-%COMP%]     .add-content-btn .p-button-label{font-size:25px;color:#fff}.facility-details[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]{background:#fff;overflow:hidden;border-radius:10px;padding-bottom:10px}.facility-details[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;max-height:340px}.facility-details[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;object-fit:cover;border-radius:8px}.facility-details[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-height:340px}.facility-details[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;box-shadow:0 2px 4px #0000001a;border-radius:8px;overflow:hidden}@media screen and (max-width: 577px){.facility-details[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{border-radius:10px}}.facility-details[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;display:block}.facility-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:none;margin:0;padding:0;font:inherit;cursor:pointer;outline:none;font-family:themify22,sans-serif}.facility-details[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: 577px){.facility-details[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.facility-details[_ngcontent-%COMP%]   .reactions-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#999}.facility-details[_ngcontent-%COMP%]   .text-like[_ngcontent-%COMP%]{color:#1e76ff}.facility-details[_ngcontent-%COMP%]   .rating-dialog[_ngcontent-%COMP%]     .p-rating .p-rating-item.p-rating-item-active .p-rating-icon{color:#f9af2c}.facility-details[_ngcontent-%COMP%]   .rating-dialog[_ngcontent-%COMP%]     .p-button{border:none;padding:0;display:block;margin-inline-start:auto;color:#1e76ff}.facility-details[_ngcontent-%COMP%]   .rating-dialog[_ngcontent-%COMP%]     .p-dialog-content{width:50vw}@media screen and (max-width: 577px){.facility-details[_ngcontent-%COMP%]   .rating-dialog[_ngcontent-%COMP%]     .p-dialog-content{width:100%;padding:10px 20px}}  span{font-family:themify22,sans-serif}  .p-overlaypanel.p-overlaypanel-flipped:before{border:none}  .p-overlaypanel.p-overlaypanel-flipped:after{border:none}  .p-overlaypanel .p-overlaypanel-close{background:transparent;color:#000;width:2rem;height:2rem;transition:background-color .2s,color .2s,box-shadow .2s;border-radius:50%;position:absolute;top:1.25rem}  .isLeft{right:1.25rem}  .isRight{left:1.25rem;right:inherit}  .btns-container button{width:100%;text-align:start;border:none;padding:7px;margin:5px 0;background-color:transparent;transition:.5s all}  .btns-container button:hover{background-color:#fafafa}  .p-toast .p-toast-message .p-toast-message-content .p-toast-detail{font-family:themify22,sans-serif;margin:.3rem .5rem}  .skeleton .p-skeleton{height:450px!important}@media screen and (max-width: 577px){  .skeleton .p-skeleton{height:300px!important}}.no-more[_ngcontent-%COMP%]{border:1px solid #7A7A7A;border-radius:10px;padding:10px}.btn[_ngcontent-%COMP%]:disabled{background-color:var(--main-color)}.loader[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid #6a6565;border-bottom-color:var(--main-color);border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .p-image-preview-container img{width:100%;max-height:auto;border-radius:8px}  h6{font-family:themify22,sans-serif}  .post-reactions .p-dialog .p-dialog-content{flex-direction:column}  .field-checkbox label{font-family:themify22,sans-serif}  .confirm-btn{padding:10px 60px!important;border:none!important;background-color:#80b127!important}  .p-inputtextarea{font-family:themify22,sans-serif;width:100%}"]});let i=c;return i})();var an=()=>({width:"50vw"}),sn=()=>({"800px":"75vw","575px":"90vw"});function rn(i,c){i&1&&(s(0,"span"),_(1," \u0645\u0646\u0630 "),r())}function ln(i,c){if(i&1&&(s(0,"span"),_(1),r()),i&2){let o=m().index,n=m();a(),I(" ",n.dateSacle[o]," ")}}function cn(i,c){if(i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2){let o=m().index,n=m();a(),j(" ",n.dateSacle[o]," ",v(2,2,"ago")," ")}}function pn(i,c){if(i&1){let o=w();s(0,"button",53),y("click",function(){x(o),m();let t=P(48),e=P(51),l=m();return C(l.showEditComment(e,t))}),s(1,"span"),_(2),u(3,"translate"),r()()}i&2&&(a(2),S(v(3,1,"edit")))}function mn(i,c){if(i&1){let o=w();s(0,"button",53),y("click",function(){x(o);let t=m(),e=t.$implicit,l=t.index,d=m();return C(d.deleteComment(e.id,l))}),s(1,"span",54),_(2),u(3,"translate"),r()()}i&2&&(a(2),S(v(3,1,"delete")))}function dn(i,c){if(i&1){let o=w();s(0,"button",53),y("click",function(){x(o);let t=m().$implicit,e=m();return C(e.getReportReasons("comment",t.id))}),s(1,"span"),_(2),u(3,"translate"),r()()}i&2&&(a(2),S(v(3,1,"Report")))}function gn(i,c){if(i&1){let o=w();s(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",28),f(5,"img",29),r()()(),s(6,"div",31)(7,"form",55),y("ngSubmit",function(){x(o);let t=P(10),e=m(),l=e.$implicit,d=e.index,g=m();return C(g.AddCommentOrReply(g.postDetails.id,t,l==null?null:l.id,d,l==null?null:l.user_id))}),s(8,"div",56),f(9,"input",57,3),u(11,"translate"),s(12,"button",58),f(13,"i",59),r()()()()()()}if(i&2){let o=m(2);a(5),p("src",o.userImageComment,O),a(4),V("placeholder",v(11,2,"Add reply"))}}function _n(i,c){if(i&1){let o=w();s(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",28),f(5,"img",29),r()()(),s(6,"div",31)(7,"form",55),y("ngSubmit",function(){x(o);let t=P(10),e=m(),l=e.$implicit,d=e.index,g=m();return C(g.editComment(l.id,g.postDetails.id,t,d))}),s(8,"div",56),f(9,"input",57,4),u(11,"translate"),s(12,"button",58),f(13,"i",59),r()()()()()()}if(i&2){let o=m(2);a(5),p("src",o.userImageComment,O),a(4),V("placeholder",v(11,2,"Edit Comment"))}}function fn(i,c){if(i&1&&(s(0,"span",63),_(1),u(2,"translate"),u(3,"translate"),r()),i&2){let o=m(2).index,n=m();a(),ke(" ",v(2,3,"show")," ",n.replies[o].length," ",v(3,5,"all replies"),"")}}function un(i,c){i&1&&(s(0,"span"),_(1," \u0645\u0646\u0630 "),r())}function hn(i,c){if(i&1&&(s(0,"span"),_(1),r()),i&2){let o=m().index,n=m(2).index,t=m();a(),I(" ",t.dateSacleReply[n][o]," ")}}function vn(i,c){if(i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2){let o=m().index,n=m(2).index,t=m();a(),j(" ",t.dateSacleReply[n][o]," ",v(2,2,"ago")," ")}}function xn(i,c){if(i&1){let o=w();s(0,"button",53),y("click",function(){x(o),m();let t=P(46),e=P(49),l=m(3);return C(l.showReplyComment(t,e))}),s(1,"span"),_(2),u(3,"translate"),r()()}i&2&&(a(2),S(v(3,1,"edit")))}function Cn(i,c){if(i&1){let o=w();s(0,"button",53),y("click",function(){x(o);let t=m(),e=t.$implicit,l=t.index,d=m(2).index,g=m();return C(g.deleteReply(e.id,d,l))}),s(1,"span",54),_(2),u(3,"translate"),r()()}i&2&&(a(2),S(v(3,1,"delete")))}function yn(i,c){if(i&1){let o=w();s(0,"button",53),y("click",function(){x(o);let t=m().$implicit,e=m(3);return C(e.getReportReasons("comment",t.id))}),s(1,"span"),_(2),u(3,"translate"),r()()}i&2&&(a(2),S(v(3,1,"Report")))}function bn(i,c){if(i&1){let o=w();s(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",28),f(5,"img",29),r()()(),s(6,"div",31)(7,"form",55),y("ngSubmit",function(){x(o);let t=P(10),e=m(),l=e.$implicit,d=e.index,g=m(2).index,M=m();return C(M.editReply(l==null?null:l.id,M.postDetails.id,t,g,d))}),s(8,"div",56),f(9,"input",68,7),u(11,"translate"),s(12,"button",58),f(13,"i",59),r()()()()()()}if(i&2){let o=m(4);a(5),p("src",o.userImageComment,O),a(4),V("placeholder",v(11,2,"Edit reply"))}}function In(i,c){if(i&1){let o=w();s(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",28),f(5,"img",29),r()()(),s(6,"div",31)(7,"form",55),y("ngSubmit",function(){x(o);let t=P(10),e=m().$implicit,l=m(2).index,d=m();return C(d.AddCommentOrReply(d.postDetails.id,t,e.id,l,e.user_id))}),s(8,"div",56),f(9,"input",57,8),u(11,"translate"),s(12,"button",58),f(13,"i",59),r()()()()()()}if(i&2){let o=m(4);a(5),p("src",o.userImageComment,O),a(4),V("placeholder",v(11,2,"Add reply"))}}function wn(i,c){if(i&1){let o=w();s(0,"div",64),y("click",function(){let t=x(o).$implicit,e=m(3);return C(e.unhoverComment(t==null?null:t.id))}),s(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",28),f(5,"img",29),r()()(),s(6,"div",31)(7,"div",65)(8,"div",33)(9,"div",66)(10,"span"),_(11),r(),s(12,"span",67),h(13,un,2,0,"span",37),s(14,"span"),_(15),r(),h(16,hn,2,1,"span",37)(17,vn,3,4,"span",37),r()(),s(18,"span")(19,"button",38),f(20,"i",39),r(),s(21,"mat-menu",40,0),h(23,xn,4,3,"button",41)(24,Cn,4,3,"button",41)(25,yn,4,3,"button",41),r()()(),s(26,"div",42),f(27,"p",43),r(),s(28,"div",44)(29,"span"),_(30),r(),s(31,"button",45),y("click",function(){let t=x(o),e=t.$implicit,l=t.index,d=m(2),g=d.$implicit,M=d.index,E=m();return C(E.likeReply(e.id,g.id,l,M,e.user_id))}),s(32,"span"),_(33),u(34,"translate"),r(),s(35,"span"),f(36,"i",46),r()(),s(37,"span"),_(38),r(),s(39,"button",45),y("click",function(){x(o);let t=P(46),e=P(49),l=m(3);return C(l.showReplyComment(e,t))}),s(40,"span"),_(41),u(42,"translate"),r(),s(43,"span"),f(44,"i",47),r()()()()()(),s(45,"div",50,5),h(47,bn,14,4,"div",49),r(),s(48,"div",50,6),h(50,In,14,4,"div",49),r()()}if(i&2){let o=c.$implicit,n=c.index,t=P(22),e=m(2).index,l=m();te("id",o==null?null:o.id),a(5),p("src",((o==null||o.user_details==null?null:o.user_details.page_type)=="user"?l.userImageUrl:l.facilityImageUrl)+l.repliesUserImages[e][n],O),a(6),S(l.namesOfreply[e][n]),a(2),p("ngIf",l.common.lang_code=="ar"&&l.dateSacleReply[e][n]!==""),a(2),I(" ",l.elapsedReplyTime[e][n]," "),a(),p("ngIf",l.common.lang_code=="ar"&&l.dateSacleReply[e][n]!==""),a(),p("ngIf",l.common.lang_code=="en"&&l.dateSacleReply[e][n]!==""),a(2),p("matMenuTriggerFor",t),a(4),p("ngIf",o.user_id==l.userId),a(),p("ngIf",o.user_id==l.userId||l.myPostMode),a(),p("ngIf",o.user_id!==l.userId),a(2),p("innerHTML",o.description,ee),a(3),I(" ",l.noOfreplyComment[e][n]," "),a(3),I(" ",v(34,20,"like")," "),a(3),ne(l.replylike[e][n]?"text-like ":""),a(2),I(" ",o.statistics.commentCount," "),a(3),I(" ",v(42,22,"Replies")," "),a(6),p("ngIf",!l.visitorMode),a(3),p("ngIf",!l.visitorMode)}}function Sn(i,c){if(i&1&&(s(0,"p-accordion",60)(1,"p-accordionTab"),h(2,fn,4,7,"ng-template",61)(3,wn,51,24,"div",62),r()()),i&2){let o=m().index,n=m();p("activeIndex",0),a(3),p("ngForOf",n.replies[o])}}function Pn(i,c){if(i&1){let o=w();s(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28),f(6,"img",29),r(),f(7,"div",30),r()(),s(8,"div",31)(9,"div",32),y("click",function(){let t=x(o).$implicit,e=m();return C(e.unhoverComment(t.id))}),s(10,"div",33)(11,"div",34)(12,"span",35),_(13),r(),s(14,"span",36),h(15,rn,2,0,"span",37),s(16,"span"),_(17),r(),h(18,ln,2,1,"span",37)(19,cn,3,4,"span",37),r()(),s(20,"span")(21,"button",38),f(22,"i",39),r(),s(23,"mat-menu",40,0),h(25,pn,4,3,"button",41)(26,mn,4,3,"button",41)(27,dn,4,3,"button",41),r()()(),s(28,"div",42),f(29,"p",43),r(),s(30,"div",44)(31,"span"),_(32),r(),s(33,"button",45),y("click",function(){let t=x(o),e=t.$implicit,l=t.index,d=m();return C(d.likeComment(e.id,l,e.user_id))}),s(34,"span"),_(35),u(36,"translate"),r(),s(37,"span"),f(38,"i",46),r()(),s(39,"span"),_(40),r(),s(41,"button",45),y("click",function(){x(o);let t=P(48),e=P(51),l=m();return C(l.showReplyComment(t,e))}),s(42,"span"),_(43),u(44,"translate"),r(),s(45,"span"),f(46,"i",47),r()()()(),s(47,"div",48,1),h(49,gn,14,4,"div",49),r(),s(50,"div",50,2),h(52,_n,14,4,"div",49),r(),s(53,"div",51),h(54,Sn,4,2,"p-accordion",52),r()()()()()}if(i&2){let o=c.$implicit,n=c.index,t=P(24),e=m();te("id",o.id),a(6),p("src",e.userCimmentImageUrl[n]+e.commentUserImages[n],O),a(7),S(e.namesOfcomment[n]),a(2),p("ngIf",e.common.lang_code=="ar"&&e.dateSacle[n]!==""),a(2),I(" ",e.elapsedCommentTime[n]," "),a(),p("ngIf",e.common.lang_code=="ar"&&e.dateSacle[n]!==""),a(),p("ngIf",e.common.lang_code=="en"&&e.dateSacle[n]!==""),a(2),p("matMenuTriggerFor",t),a(4),p("ngIf",o.user_id==e.userId),a(),p("ngIf",o.user_id==e.userId||e.myPostMode),a(),p("ngIf",o.user_id!==e.userId),a(2),p("innerHTML",o.description,ee),a(3),I(" ",e.noOfLikeComment[n]," "),a(3),I(" ",v(36,21,"like")," "),a(3),ne(e.commentlike[n]?"text-like ":""),a(2),I(" ",e.noOfRepliesComment[n]," "),a(3),I(" ",v(44,23,"Replies")," "),a(6),p("ngIf",!e.visitorMode),a(3),p("ngIf",!e.visitorMode),a(2),p("ngIf",(e.replies[n]==null?null:e.replies[n].length)>0)}}function Mn(i,c){if(i&1){let o=w();s(0,"div",69),y("scrolled",function(){x(o);let t=m();return C(t.onScroll())}),r()}i&2&&p("infiniteScrollDistance",2)("infiniteScrollThrottle",1e3)}function On(i,c){i&1&&(s(0,"div",70),f(1,"ngx-spinner",71),r()),i&2&&(a(),p("fullScreen",!1))}function Dn(i,c){if(i&1){let o=w();s(0,"div",72)(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28),f(6,"img",29),r()()(),s(7,"div",31)(8,"form",55),y("ngSubmit",function(){x(o);let t=P(11),e=m();return C(e.AddCommentOrReply(e.postDetails.id,t))}),s(9,"div",56),f(10,"input",57,9),u(12,"translate"),s(13,"button",58),f(14,"i",59),r()()()()()(),f(15,"ngx-spinner",73),r()}if(i&2){let o=m();a(6),p("src",o.userImageComment,O),a(4),V("placeholder",v(12,3,"Add comment")),a(5),p("fullScreen",!0)}}function kn(i,c){if(i&1){let o=w();s(0,"div",74)(1,"p-radioButton",75),T("ngModelChange",function(t){x(o);let e=m();return k(e.selectedReason,t)||(e.selectedReason=t),C(t)}),r(),s(2,"label",76),_(3),r()()}if(i&2){let o=c.$implicit,n=m();a(),p("inputId",o.id)("value",o.id),D("ngModel",n.selectedReason),a(),p("for",o.id),a(),I(" ",o.name," ")}}function Tn(i,c){i&1&&(s(0,"span",77),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"confirm")," "))}function En(i,c){i&1&&f(0,"span",78)}var Ht=(()=>{let c=class c{constructor(n,t,e,l,d,g,M,E,fe,ue,he,ve,xe,Ce){this.common=n,this.activate=t,this.router=e,this.platformId=l,this.post=d,this.render=g,this.spinner=M,this.user=E,this.profile=fe,this.dialogService=ue,this.message=he,this.translate=ve,this.notify=xe,this.order=Ce,this.comments=[],this.elapsedCommentTime=[],this.dateSacle=[],this.replies=[],this.commentlike=[],this.noOfLikeComment=[],this.replylike=[],this.noOfreplyComment=[],this.elapsedReplyTime=[],this.dateSacleReply=[],this.noOfRepliesComment=[],this.userId="",this.loading=!0,this.start=10,this.commentUserImages=[],this.repliesUserImages=[],this.userCimmentImageUrl=[],this.myPostMode=!1,this.userImage="",this.facilityImage="",this.postId="",this.visitorMode=!0,this.selectedReason="",this.reasonText="",this.loadingReport=!1,this.namesOfcomment=[],this.namesOfreply=[],this.contentId="",this.type="",this.userImageUrl="",this.facilityImageUrl="",this.newReplies=[],this.noMoreComment=!1,R(this.platformId)&&(console.log(this.userAcc),this.translate.use(localStorage.getItem("front-lang")==null?"ar":localStorage.getItem("front-lang")),this.visitorMode=localStorage.getItem("isVisitor")=="true",this.myPostMode=localStorage.getItem("profile-mode")=="page",this.profile.getAllAccounts().subscribe({next:Z=>{console.log(Z),Z?.data?.forEach(B=>{B.page_type=="user"?this.userImage=B.img:this.facilityImage=B?.img,localStorage.getItem("profile-mode")==B.page_type&&(this.userId=B?.id),console.log(this.userId)}),this.getAllCommentAndReplies(),this.myPostMode?this.userImageComment=this.user.facilityImageUrl+this.facilityImage:this.userImageComment=this.user.userImageUrl+this.userImage,console.log(this.userImageComment),console.log(this.facilityImage),console.log(this.userImage),this.commentId&&this.scrollToComment(this.commentId),this.replayId&&this.scrollToComment(this.replayId)}}))}ngOnInit(){this.userImageUrl=this.post.commentImageUrl,this.facilityImageUrl=this.post.facilityImageUrl,this.post.getReportingReasons().subscribe({next:n=>{this.reasons=n?.data},error:n=>{console.log(n)}})}getAllCommentAndReplies(){console.log(this.comments),this.comments.forEach(n=>{n?.user_details?.page_type=="user"?this.userCimmentImageUrl.push(this.userImageUrl):this.userCimmentImageUrl.push(this.facilityImageUrl),this.commentlike.push(n?.likeComment),this.namesOfcomment.push(n?.user_details.user_name),this.noOfLikeComment.push(n?.statistics.like),this.commentUserImages.push(n?.user_details.img),this.noOfRepliesComment.push(n?.statistics.commentCount),this.getElpasedAndScaleTime(this.elapsedCommentTime,this.dateSacle,n.date_added),this.replies.push(n.replays)}),console.log(this.replies),this.replies.forEach((n,t)=>{this.elapsedReplyTime.push([]),this.dateSacleReply.push([]),this.replylike.push([]),this.noOfreplyComment.push([]),this.repliesUserImages.push([]),this.namesOfreply.push([]),n.forEach(e=>{this.replylike[t].push(e?.likeComment),this.namesOfreply[t].push(e?.user_details.user_name),this.noOfreplyComment[t].push(e?.statistics.like),this.repliesUserImages[t].push(e?.user_details.img),this.getElpasedAndScaleTime(this.elapsedReplyTime[t],this.dateSacleReply[t],e.date_added)})})}handleImage(n){n.target.src="assets/images/user.jpg"}getElpasedAndScaleTime(n,t,e){let l=(new Date().getTime()-new Date(e).getTime())/1e3/60/60;l<0&&(n.push(this.common.lang_code=="ar"?"\u0627\u0644\u0627\u0646":"now"),t.push("")),l<1&&l>0?(n.push(Math.floor(l*60)),t.push(this.common.lang_code=="ar"?"\u062F":"min")):l>1&&l<24?(n.push(Math.floor(l)),t.push(this.common.lang_code=="ar"?"\u0633":"h")):l>24&&l<168?(n.push(Math.floor(l/24)),t.push(this.common.lang_code=="ar"?"\u064A\u0648\u0645":"d")):l>168&&l<720?(n.push(Math.floor(l/24/7)),t.push(this.common.lang_code=="ar"?"\u0627\u0633\u0628\u0648\u0639":"w")):l>720&&l<8760?(n.push(Math.floor(l/24/7/4)),t.push(this.common.lang_code=="ar"?"\u0634\u0647\u0631":"m")):l>8760&&(n.push(Math.floor(l/24/365.25)),t.push(this.common.lang_code=="ar"?"\u0633\u0646\u0629":"y"))}likeComment(n,t,e){this.visitorMode?this.translate.get("please  log in").subscribe(l=>{this.message.add({severity:"warn",detail:l})}):(this.commentlike[t]=!this.commentlike[t],this.commentlike[t]==!0?(this.noOfLikeComment[t]++,this.notify.sendNotificationByType(n,this.postDetails?.id,"likeComment",e).subscribe({next:l=>{console.log(l)},error:l=>{console.log(l)}})):this.noOfLikeComment[t]--,this.post.likePageOrPost(n,"comment").subscribe({next:l=>{console.log(l)},error:l=>{console.log(l)}}))}likeReply(n,t,e,l,d){this.visitorMode?this.translate.get("please  log in").subscribe(g=>{this.message.add({severity:"warn",detail:g})}):(this.replylike[l][e]=!this.replylike[l][e],this.replylike[l][e]==!0?(this.noOfreplyComment[l][e]++,this.notify.sendNotificationByType(t,this.postDetails?.id,"likeReplay",d,"","","","",n).subscribe({next:g=>{console.log(g)},error:g=>{console.log(g)}})):this.noOfreplyComment[l][e]--,this.post.likePageOrPost(n,"comment").subscribe({next:g=>{console.log(g)},error:g=>{console.log(g)}}))}AddCommentOrReply(n,t,e="0",l=0,d=""){this.visitorMode?this.translate.get("please  log in").subscribe(g=>{this.message.add({severity:"warn",detail:g})}):(console.log(t.value),this.spinner.show("addCommentOrReply"),this.post.addCommentOrReply(n,t.value,this.userId,e).subscribe({next:g=>{if(t.value="",console.log(g),e=="0"){let M={id:g?.data.id,parent_id:"0",description:g?.data.description,img:this.myPostMode?this.facilityImage:this.userImage,date_added:g?.data.date_added,user_id:g?.data.user_id,post_id:g?.data.post_id,app_version:g?.data.app_version,commentIndex:this.comments.length,likeComment:!1,statistics:{like:"0",commentCount:"0"},replays:[],user_details:g?.data.user_details};this.getElpasedAndScaleTime(this.elapsedCommentTime,this.dateSacle,g?.data.date_added),this.comments.push(M),this.replies.push([]),this.namesOfcomment.push(g?.data.user_details.user_name),this.commentUserImages.push(g?.data.user_details.img),this.userCimmentImageUrl.push(g?.data.user_details.page_type=="user"?this.userImageUrl:this.facilityImageUrl),this.replies.push(M.replays),this.noOfLikeComment.push("0"),this.notify.sendNotificationByType(g?.data.id,n,"addComment",this.postDetails?.page_acc_id).subscribe({next:E=>{console.log(E)},error:E=>{console.log(E)}}),this.spinner.hide("addCommentOrReply")}else{let M={id:g?.data.id,parent_id:g?.data.parent_id,description:g?.data.description,img:g?.data.img,date_added:g?.data.date_added,user_id:g?.data.user_id,post_id:g?.data.post_id,app_version:"1.1.1",likeComment:!1,statistics:{like:0,commentCount:0},user_details:g?.data.user_details};console.log(this.repliesUserImages[l]),this.repliesUserImages[l]==null&&(this.repliesUserImages[l]=[],this.namesOfreply[l]=[],this.dateSacleReply[l]=[],this.elapsedReplyTime[l]=[],this.noOfreplyComment[l]=[]),this.replies[l].push(M),this.noOfreplyComment[l].push(0),this.namesOfreply[l].push(g?.data.user_details.user_name),this.repliesUserImages[l].push(g?.data.user_details.img),this.elapsedReplyTime[l].push(this.common.lang_code=="ar"?"\u0627\u0644\u0627\u0646":"now"),console.log(this.elapsedReplyTime),this.dateSacleReply[l].push(""),this.notify.sendNotificationByType(e,n,"addReplay",d,"","","","",g?.data.id).subscribe({next:E=>{console.log(E)},error:E=>{console.log(E)}})}this.spinner.hide("addCommentOrReply")},error:g=>{console.log(g),this.spinner.hide("addCommentOrReply")}}))}deleteComment(n,t){console.log(n,t),this.comments.splice(t,1),this.userCimmentImageUrl.splice(t,1),this.replies.splice(t,1),this.elapsedCommentTime.splice(t,1),this.dateSacle.splice(t,1),this.noOfLikeComment.splice(t,1),this.commentlike.splice(t,1),this.noOfRepliesComment.splice(t,1),this.commentUserImages.splice(t,1),this.namesOfcomment.splice(t,1),this.repliesUserImages.splice(t,1),this.namesOfreply.splice(t,1),this.dateSacleReply.splice(t,1),this.elapsedReplyTime.splice(t,1),this.noOfreplyComment.splice(t,1),this.post.deleteComment(n,this.postDetails?.id).subscribe({next:e=>{console.log(e)},error:e=>{console.log(e)}})}deleteReply(n,t,e){console.log(n),console.log(n,t),this.elapsedReplyTime[t].splice(e,1),this.dateSacleReply[t].splice(e,1),this.replylike[t].splice(e,1),this.noOfreplyComment[t].splice(e,1),this.repliesUserImages[t].splice(e,1),this.replies[t].splice(e,1),this.namesOfreply[t].splice(e,1),this.post.deleteComment(n,this.postDetails?.id).subscribe({next:l=>{console.log(l)},error:l=>{console.log(l)}})}showEditComment(n,t){this.visitorMode?this.translate.get("please  log in").subscribe(e=>{this.message.add({severity:"warn",detail:e})}):(this.render.removeClass(n,"h-0"),this.render.addClass(n,"h-auto"),this.render.addClass(t,"h-0"),this.render.removeClass(t,"h-auto"),n.querySelectorAll("input")[0].focus())}editComment(n,t,e,l){this.elapsedCommentTime[l]=this.common.lang_code=="ar"?"\u0627\u0644\u0627\u0646":"now",this.dateSacle[l]="",this.comments[l].description=e.value,this.post.EditComment(n,t,e.value).subscribe({next:d=>{e.value="",console.log(d),this.comments[l].date_added=d?.data.date_added,this.comments[l].app_version=d?.data.app_version},error:d=>{console.log(d)}})}showReplyComment(n,t){this.visitorMode?this.translate.get("please  log in").subscribe(e=>{this.message.add({severity:"warn",detail:e})}):(this.render.removeClass(n,"h-0"),this.render.addClass(n,"h-auto"),this.render.addClass(t,"h-0"),this.render.removeClass(t,"h-auto"),n.querySelectorAll("input")[0].focus())}editReply(n,t,e,l,d){this.elapsedReplyTime[l][d]=this.common.lang_code=="ar"?"\u0627\u0644\u0627\u0646":"now",this.dateSacleReply[l][d]="",this.replies[l][d].description=e.value,this.post.EditComment(n,t,e.value).subscribe({next:g=>{e.value="",console.log(g),this.replies[l][d].date_added=g?.data.date_added,this.replies[l][d].app_version=g?.data.app_version},error:g=>{console.log(g)}})}addReport(){if(!this.selectedReason){this.translate.get("You must select one of these reasons").subscribe(t=>{this.message.add({severity:"error",detail:t})});return}this.loadingReport=!0;let n={reason_id:this.selectedReason,comment:this.reasonText,type:this.type,content_id:this.contentId};console.log(n),this.post.userAddContentReport(n).subscribe({next:t=>{console.log(t),this.loadingReport=!1,this.translate.get("request sent").subscribe(e=>{this.message.add({severity:"success",detail:e})}),this.reportVisible=!1},error:t=>{console.log(t),this.translate.get("please try again").subscribe(e=>{this.message.add({severity:"error",detail:e})}),this.loadingReport=!1}})}getReportReasons(n,t){this.visitorMode?this.translate.get("please  log in").subscribe(e=>{this.message.add({severity:"warn",detail:e})}):(this.type=n,this.contentId=t,this.reportVisible=!0)}onScroll(){this.noMoreComment||(this.loading=!0,this.spinner.show(),this.post.getMoreComment(this.postDetails?.id,this.start).subscribe({next:n=>{console.log(n),n.success?(this.spinner.hide(),this.loading=!1,(n?.data).forEach(e=>{this.comments.push(e),e?.user_details?.page_type=="user"?this.userCimmentImageUrl.push(this.userImageUrl):this.userCimmentImageUrl.push(this.facilityImageUrl),this.commentlike.push(e?.likeComment),this.commentUserImages.push(e?.user_details.img),this.namesOfcomment.push(e?.user_details.user_name),this.noOfLikeComment.push(e?.statistics.like),this.noOfRepliesComment.push(e?.statistics.commentCount),this.getElpasedAndScaleTime(this.elapsedCommentTime,this.dateSacle,e.date_added),this.replies.push(e.replays),this.newReplies.push(e.replays)}),this.newReplies.forEach((e,l)=>{this.elapsedReplyTime.push([]),this.dateSacleReply.push([]),this.replylike.push([]),this.noOfreplyComment.push([]),this.repliesUserImages.push([]),this.namesOfreply.push([]),e.forEach(d=>{this.replylike[l+this.start].push(d?.likeComment),this.namesOfreply[l+this.start].push(d?.user_details.user_name),this.noOfreplyComment[l+this.start].push(d?.statistics.like),this.repliesUserImages[l+this.start].push(d?.user_details.img),this.getElpasedAndScaleTime(this.elapsedReplyTime[l+this.start],this.dateSacleReply[l+this.start],d.date_added)}),console.log(this.elapsedReplyTime)}),this.start=this.start+10):this.noMoreComment=!0,this.spinner.hide(),this.loading=!1}}))}scrollToComment(n){setTimeout(()=>{if(R(this.platformId)){let t=document.getElementById(n),e=t?.querySelector(".comment-details");t&&e&&(e.classList.add("comment-hover"),t.scrollIntoView({behavior:"smooth",block:"center"})),setTimeout(()=>{e&&e.classList.remove("comment-hover")},3e4)}},500)}unhoverComment(n){if(R(this.platformId)){let t=document.getElementById(n),e=t?.querySelector(".comment-details");t&&e&&e.classList.remove("comment-hover")}}};c.\u0275fac=function(t){return new(t||c)(b(Y),b(q),b(H),b(N),b(me),b(ie),b($),b(Ve),b(se),b(L),b(oe),b(Q),b(ae),b(re))},c.\u0275cmp=U({type:c,selectors:[["app-commnents"]],inputs:{comments:"comments",postDetails:"postDetails",commentId:"commentId",replayId:"replayId",userAcc:"userAcc"},decls:20,vars:26,consts:[["menuComment","matMenu"],["userComment",""],["EditCommentInput",""],["replyDescription",""],["editDescription",""],["EditReply",""],["userReply",""],["editReplyInput",""],["replyInput",""],["commentDescription",""],["class","d-flex justify-content-start align-items-center gap-2 my-2",4,"ngFor","ngForOf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],["class","position-relative w-100","style","height: 50px;",4,"ngIf"],["class","user-comment-input position-sticky bottom-0 start-0 w-100 -h-auto bg-white rounded-3 py-2",4,"ngIf"],[3,"visibleChange","header","visible","modal","draggable","breakpoints"],[1,"mb-4"],[1,"d-flex","flex-column","gap-3"],["class","field-checkbox",4,"ngFor","ngForOf"],["rows","5","cols","30","pInputTextarea","",3,"ngModelChange","placeholder","ngModel"],[1,"text-center"],[1,"btn","bg-main","confirm-btn",3,"click","disabled"],["class","text-white",4,"ngIf"],["class","loader",4,"ngIf"],[1,"d-flex","justify-content-start","align-items-center","gap-2","my-2"],[1,"container"],[1,"row"],[1,"col-1"],[1,"h-100","d-flex","flex-column","align-items-center"],[1,"comment-img","rounded-circle","overflow-hidden"],["alt","comment-img",1,"w-100",3,"src"],[1,"v-line"],[1,"col-11"],[1,"comment-details",3,"click"],[1,"d-flex","justify-content-between","align-items-center","comment-container"],[1,"d-flex","justify-content-between"],[1,"text-black"],[1,"mx-3",2,"color","#7A7A7A"],[4,"ngIf"],["mat-icon-button","",1,"custom-button",2,"color","#7A7A7A",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis"],[1,"px-3"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"comment-desc"],[3,"innerHTML"],[1,"comment-reactions","d-flex","gap-2"],[1,"d-flex","align-items-center","gap-2",2,"color","#7A7A7A",3,"click"],[1,"fa-solid","fa-thumbs-up","mx-1"],[1,"fa-regular","fa-comment",2,"color","#7A7A7A"],[1,"user-comment-input","mt-2","h-auto","overflow-hidden"],["class","container",4,"ngIf"],[1,"user-comment-input","mt-2","h-0","overflow-hidden"],[1,"d-flex","justify-content-center","flex-column"],["class","w-100",3,"activeIndex",4,"ngIf"],["mat-menu-item","",3,"click"],[2,"color","red"],[3,"ngSubmit"],[1,"comment-input","d-flex","align-items-center","gap-1"],["type","text",1,"form-control",3,"placeholder"],[1,"rounded-3",2,"background-color","#80B127"],[1,"fa-solid","fa-paper-plane","text-white"],[1,"w-100",3,"activeIndex"],["pTemplate","header"],["class","container-fluid mt-2",3,"click",4,"ngFor","ngForOf"],[1,"font-bold","white-space-nowrap","show-comment"],[1,"container-fluid","mt-2",3,"click"],[1,"comment-details"],[1,"d-flex","gap-2","flex-wrap"],[2,"color","#7A7A7A"],["type","text",1,"form-control","reply-edit",3,"placeholder"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle"],[1,"position-relative","w-100",2,"height","50px"],["bdColor","#fff","size","default","color","#80b127","type","ball-clip-rotate",3,"fullScreen"],[1,"user-comment-input","position-sticky","bottom-0","start-0","w-100","-h-auto","bg-white","rounded-3","py-2"],["name","addCommentOrReply","bdColor","rgba(0,0,0,0.1)","size","default","color","#80b127","type","ball-clip-rotate",3,"fullScreen"],[1,"field-checkbox"],["name","reason",3,"ngModelChange","inputId","value","ngModel"],[1,"mx-2",3,"for"],[1,"text-white"],[1,"loader"]],template:function(t,e){t&1&&(h(0,Pn,55,25,"div",10)(1,Mn,1,2,"div",11)(2,On,2,1,"div",12)(3,Dn,16,5,"div",13),s(4,"p-dialog",14),u(5,"translate"),T("visibleChange",function(d){return k(e.reportVisible,d)||(e.reportVisible=d),d}),s(6,"div")(7,"h6",15),_(8),u(9,"translate"),r()(),s(10,"div",16),h(11,kn,4,5,"div",17),s(12,"div")(13,"textarea",18),u(14,"translate"),T("ngModelChange",function(d){return k(e.reasonText,d)||(e.reasonText=d),d}),_(15,"            "),r()(),s(16,"div",19)(17,"button",20),y("click",function(){return e.addReport()}),h(18,Tn,3,3,"span",21)(19,En,1,0,"span",22),r()()()()),t&2&&(p("ngForOf",e.comments),a(),p("ngIf",e.comments==null?null:e.comments.length),a(),p("ngIf",e.loading),a(),p("ngIf",!e.visitorMode),a(),A(F(24,an)),V("header",v(5,18,"report content")),D("visible",e.reportVisible),p("modal",!0)("draggable",!1)("breakpoints",F(25,sn)),a(4),S(v(9,20,"report message")),a(3),p("ngForOf",e.reasons),a(2),V("placeholder",v(14,22,"write reason")),D("ngModel",e.reasonText),a(4),p("disabled",e.loadingReport),a(),p("ngIf",!e.loadingReport),a(),p("ngIf",e.loadingReport))},dependencies:[W,z,Ae,Ee,mt,K,J,ct,X,pt,de,Le,je,Ue,wt,It,pe,le,ge,_e,G],styles:[".form-control[_ngcontent-%COMP%]{font-family:themify22,sans-serif}.text-rate[_ngcontent-%COMP%]{color:#f9af2c}  .mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{font-family:themify22,sans-serif}  .p-skeleton:after{background:linear-gradient(90deg,#fff0,#ffffffe6,#fff0)}  .p-dialog .p-dialog-content{display:flex;justify-content:center;align-items:center;flex-direction:column}  .p-card .p-card-content{padding:.25rem 0}  span{font-family:themify22,sans-serif}  .p-button{background:transparent;color:#7a7a7a;border-color:#cdcdcd;border-radius:10px;font-weight:700;padding:10px 25px;white-space:nowrap;font-family:themify22,sans-serif}@media screen and (max-width: 577px){  .p-button{font-size:14px}}  .mdc-list-item{padding-left:0;padding-right:0}button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:none;margin:0;padding:0;font:inherit;cursor:pointer;outline:none;font-family:themify22,sans-serif}.post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: 577px){.post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.reactions-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#999}.text-like[_ngcontent-%COMP%]{color:#1e76ff}.comment-img[_ngcontent-%COMP%]{width:50px;height:50px;flex-shrink:0}.comment-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;object-fit:cover;min-height:50px}@media screen and (max-width: 577px){.comment-img[_ngcontent-%COMP%]{width:40px;height:40px}}.comment-details[_ngcontent-%COMP%]{background-color:#8ec32a0d;padding:10px;border-radius:10px;transition:.5s all}@media screen and (max-width: 577px){.comment-details[_ngcontent-%COMP%]{padding:5px}}.comment-hover[_ngcontent-%COMP%]{background-color:#0003;cursor:pointer;transition:.5s all}.comment-container[_ngcontent-%COMP%]{padding:5px 2px}.comment-container[_ngcontent-%COMP%]     .mat-icon{height:48px;width:48px}.v-line[_ngcontent-%COMP%]{width:1px;background-color:#d0d5dd;height:100%}.comment-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px}.comment-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;font-family:themify22,sans-serif}  .p-accordion-header-link{border:none;color:#7a7a7a}  .p-accordion .p-accordion-content{border:none;background-color:transparent}  .p-accordion .p-accordion-header:not(.p-highlight):not(.p-disabled):hover .p-accordion-header-link{background:transparent;border-color:transparent}  .p-accordion .p-accordion-header:not(.p-disabled).p-highlight:hover .p-accordion-header-link{background:transparent;border-color:transparent}  .p-accordion .p-accordion-content{padding:0}.comment-input[_ngcontent-%COMP%]{background-color:#8ec32a0d;padding:10px 5px;border-radius:10px}.pop-up-image[_ngcontent-%COMP%]{transition:.5s all;background-color:#fff}.pop-up-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.5s all}.h-0[_ngcontent-%COMP%]{height:0}.w-0[_ngcontent-%COMP%]{width:0}.user-comment-input[_ngcontent-%COMP%]{transition:1s all ease-in-out}.h-auto[_ngcontent-%COMP%]{height:auto}  .mat-mdc-menu-item-text span{font-family:themify22,sans-serif}.btn[_ngcontent-%COMP%]:disabled{background-color:var(--main-color)}"]});let i=c;return i})();var Fn=["popUpImageContainer"],Rn=["popUpImageSrc"],Bn=["closeBtn"],An=["imageContainer"],Ke=()=>({height:"100vh"}),jn=()=>["facebook","x","telegram","messenger","copy"],Ln=()=>({width:"50vw"}),Un=()=>({"800px":"75vw","575px":"90vw"});function Nn(i,c){if(i&1){let o=w();s(0,"div",53),y("click",function(){x(o);let t=m(3);return C(t.showDialog(0))}),s(1,"img",54),y("error",function(t){x(o);let e=m(3);return C(e.common.handleImage(t))}),r()()}if(i&2){let o=m(),n=o.$implicit,t=o.index,e=m(2);te("data-count","+"+((e.postDetails==null?null:e.postDetails.attachment.length)-4)),a(),ye("alt","Image ",t+1,""),p("src",e.postImageBaseurl+n.name,O)}}function Wn(i,c){if(i&1){let o=w();s(0,"img",55),y("error",function(t){x(o);let e=m(3);return C(e.common.handleImage(t))})("click",function(){x(o);let t=m(3);return C(t.showDialog(0))}),r()}if(i&2){let o=m(),n=o.$implicit,t=o.index,e=m(2);ye("alt","Image ",t+1,""),p("src",e.postImageBaseurl+n.name,O)}}function zn(i,c){if(i&1&&(Oe(0),h(1,Nn,2,4,"div",51)(2,Wn,1,3,"img",52),De()),i&2){let o=c.index,n=m(2);a(),p("ngIf",o===3&&(n.postDetails==null?null:n.postDetails.attachment.length)>4),a(),p("ngIf",!(o===3&&(n.postDetails==null?null:n.postDetails.attachment.length)>4))}}function qn(i,c){if(i&1&&(s(0,"div",49,2),h(2,zn,3,2,"ng-container",50),r()),i&2){let o=m();a(2),p("ngForOf",o.postDetails==null?null:o.postDetails.attachment.slice(0,4))}}function Hn(i,c){if(i&1){let o=w();s(0,"div",56)(1,"p-image",57),y("onImageError",function(t){x(o);let e=m();return C(e.common.handleImage(t))}),r(),s(2,"div",58)(3,"span",59),_(4),r()()()}if(i&2){let o=c.$implicit,n=c.index,t=m();a(),p("src",t.postImageBaseurl+o.name)("preview",!0),a(3),j(" ",n+1," / ",t.postDetails.attachment.length," ")}}function Qn(i,c){if(i&1){let o=w();s(0,"div",53),y("click",function(){x(o);let t=m(3);return C(t.showDialog(1))}),s(1,"img",54),y("error",function(t){x(o);let e=m(3);return C(e.common.handleImage(t))}),r()()}if(i&2){let o=m(),n=o.$implicit,t=o.index,e=m(2);te("data-count","+"+((e.postDetails==null?null:e.postDetails.attachment.length)-4)),a(),ye("alt","Image ",t+1,""),p("src",e.postImageBaseurl+n.name,O)}}function Gn(i,c){if(i&1){let o=w();s(0,"img",55),y("error",function(t){x(o);let e=m(3);return C(e.common.handleImage(t))})("click",function(){x(o);let t=m(3);return C(t.showDialog(1))}),r()}if(i&2){let o=m(),n=o.$implicit,t=o.index,e=m(2);ye("alt","Image ",t+1,""),p("src",e.postImageBaseurl+n.name,O)}}function Yn(i,c){if(i&1&&(Oe(0),h(1,Qn,2,4,"div",51)(2,Gn,1,3,"img",52),De()),i&2){let o=c.index,n=m(2);a(),p("ngIf",o===3&&(n.postDetails==null?null:n.postDetails.attachment.length)>4),a(),p("ngIf",!(o===3&&(n.postDetails==null?null:n.postDetails.attachment.length)>4))}}function $n(i,c){if(i&1&&(s(0,"div",49,2),h(2,Yn,3,2,"ng-container",50),r()),i&2){let o=m();a(2),p("ngForOf",o.postDetails==null?null:o.postDetails.attachment.slice(0,4))}}function Kn(i,c){if(i&1){let o=w();s(0,"div",56)(1,"p-image",57),y("onImageError",function(t){x(o);let e=m();return C(e.common.handleImage(t))}),r(),s(2,"div",58)(3,"span",59),_(4),r()()()}if(i&2){let o=c.$implicit,n=c.index,t=m();a(),p("src",t.postImageBaseurl+o.name)("preview",!0),a(3),j(" ",n+1," / ",t.postDetails==null?null:t.postDetails.attachment.length," ")}}function Jn(i,c){if(i&1){let o=w();s(0,"video",62),y("play",function(){x(o);let t=m(2).index,e=m(2);return C(e.onPlay(t,e.postDetails==null?null:e.postDetails.id))}),f(1,"source",63),r()}if(i&2){let o=m(2).$implicit,n=m(2);a(),p("src",n.postImageBaseurl+o.name,O)}}function Xn(i,c){if(i&1){let o=w();s(0,"div",53),y("click",function(){x(o);let t=m(3);return C(t.showDialog(2))}),h(1,Jn,2,1,"video",61),r()}if(i&2){let o=m(3);te("data-count","+"+((o.postDetails==null?null:o.postDetails.attachment.length)-4)),a(),p("ngIf",(o.postDetails==null?null:o.postDetails.type)=="video")}}function Zn(i,c){if(i&1){let o=w();s(0,"video",64),y("play",function(){x(o);let t=m().index,e=m(2);return C(e.onPlay(t,e.postDetails==null?null:e.postDetails.id))})("click",function(){x(o);let t=m(3);return C(t.showDialog(2))}),f(1,"source",63),r()}if(i&2){let o=m().$implicit,n=m(2);a(),p("src",n.postImageBaseurl+o.name,O)}}function eo(i,c){if(i&1&&(Oe(0),h(1,Xn,2,2,"div",51)(2,Zn,2,1,"video",60),De()),i&2){let o=c.index,n=m(2);a(),p("ngIf",o===3&&(n.postDetails==null?null:n.postDetails.attachment.length)>4),a(),p("ngIf",(n.postDetails==null?null:n.postDetails.type)=="video")}}function to(i,c){if(i&1&&(s(0,"div",49,2),h(2,eo,3,2,"ng-container",50),r()),i&2){let o=m();a(2),p("ngForOf",o.postDetails==null?null:o.postDetails.attachment.slice(0,4))}}function io(i,c){if(i&1){let o=w();s(0,"video",62),y("play",function(){x(o);let t=m().index,e=m();return C(e.onPlay(t,e.postDetails.id))}),f(1,"source",63),r()}if(i&2){let o=m().$implicit,n=m();a(),p("src",n.postImageBaseurl+o.name,O)}}function no(i,c){if(i&1&&(s(0,"div",56),h(1,io,2,1,"video",61),s(2,"div",58)(3,"span",59),_(4),r()()()),i&2){let o=c.index,n=m();a(),p("ngIf",(n.postDetails==null?null:n.postDetails.type)=="video"),a(3),j(" ",o+1," / ",n.postDetails.attachment.length," ")}}function oo(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",65),r())}function ao(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",66),r())}function so(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",67),r())}function ro(i,c){i&1&&(s(0,"div"),f(1,"p-skeleton",67),r())}function lo(i,c){i&1&&(s(0,"div",68)(1,"div"),f(2,"p-skeleton",67),r(),s(3,"div"),f(4,"p-skeleton",67),r()())}function co(i,c){i&1&&(s(0,"span",73),_(1),u(2,"translate"),r()),i&2&&(a(),S(v(2,1,"In Stock")))}function po(i,c){i&1&&(s(0,"span"),_(1),u(2,"translate"),r()),i&2&&(a(),S(v(2,1,"Out stock")))}function mo(i,c){if(i&1&&(s(0,"div",15)(1,"span",71),_(2),u(3,"egyptianPound"),r(),h(4,co,3,3,"span",72)(5,po,3,3,"span",13),r()),i&2){let o=m(2);a(2),S(v(3,3,o.postDetails==null?null:o.postDetails.price)),a(2),p("ngIf",(o.postDetails==null?null:o.postDetails.avilability)=="Available"),a(),p("ngIf",(o.postDetails==null?null:o.postDetails.avilability)!=="Available")}}function go(i,c){if(i&1&&(s(0,"div",69),h(1,mo,6,5,"div",70),r()),i&2){let o=m();a(),p("ngIf",(o.postDetails==null?null:o.postDetails.type)=="post")}}function _o(i,c){if(i&1&&(s(0,"span",23)(1,"span",24),_(2),r(),s(3,"span"),_(4),u(5,"translate"),r()()),i&2){let o=m();a(2),I(" ",o.postDetails==null?null:o.postDetails.statistics.views," "),a(2),I(" ",v(5,2,"Views")," ")}}function fo(i,c){if(i&1){let o=w();s(0,"button",26),y("click",function(){x(o);let t=m();return C(t.addToCart(t.postDetails==null?null:t.postDetails.id,t.postDetails==null?null:t.postDetails.page_acc_id))}),s(1,"span"),f(2,"i",74),r(),s(3,"span"),_(4),u(5,"translate"),r()()}if(i&2){let o=m();a(2),ne(o.isInCart=="1"?"main-color":""),a(2),I(" ",v(5,3,"reserve")," ")}}function uo(i,c){if(i&1){let o=w();s(0,"button",75),y("click",function(){x(o);let t=m();return C(t.getReportReasons("post",t.postDetails==null?null:t.postDetails.id))}),s(1,"span"),_(2),u(3,"translate"),r()()}i&2&&(a(2),S(v(3,1,"Report")))}function ho(i,c){if(i&1){let o=w();s(0,"button",75),y("click",function(){x(o);let t=m();return C(t.openDialog(t.postDetails==null?null:t.postDetails.type,t.postDetails,"edit"))}),s(1,"span"),_(2),u(3,"translate"),r()()}i&2&&(a(2),S(v(3,1,"edit")))}function vo(i,c){i&1&&(s(0,"button",76)(1,"span",71),_(2),u(3,"translate"),r()()),i&2&&(a(2),S(v(3,1,"delete")))}function xo(i,c){if(i&1&&f(0,"app-commnents",77),i&2){let o=m();p("comments",o.comments)("postDetails",o.postDetails)("commentId",o.commentId)("replayId",o.replayId)("userAcc",o.userAcc)}}function Co(i,c){if(i&1){let o=w();s(0,"div",78)(1,"p-radioButton",79),T("ngModelChange",function(t){x(o);let e=m();return k(e.selectedReason,t)||(e.selectedReason=t),C(t)}),r(),s(2,"label",80),_(3),r()()}if(i&2){let o=c.$implicit,n=m();a(),p("inputId",o.id)("value",o.id),D("ngModel",n.selectedReason),a(),p("for",o.id),a(),I(" ",o.name," ")}}function yo(i,c){i&1&&(s(0,"span",81),_(1),u(2,"translate"),r()),i&2&&(a(),I(" ",v(2,1,"confirm")," "))}function bo(i,c){i&1&&f(0,"span",82)}var Qt=(()=>{let c=class c{constructor(n,t,e,l,d,g,M,E,fe,ue,he,ve,xe,Ce){this.common=n,this.activate=t,this.router=e,this.platformId=l,this.post=d,this.render=g,this.spinner=M,this.user=E,this.profile=fe,this.dialogService=ue,this.message=he,this.translate=ve,this.notify=xe,this.order=Ce,this.token="",this.elapsedCommentTime=[],this.dateSacle=[],this.replies=[],this.commentlike=[],this.noOfLikeComment=[],this.replylike=[],this.noOfreplyComment=[],this.elapsedReplyTime=[],this.dateSacleReply=[],this.noOfRepliesComment=[],this.userId="",this.loading=!0,this.start=10,this.commentUserImages=[],this.repliesUserImages=[],this.userCimmentImageUrl="",this.myPostMode=!1,this.userImage="",this.facilityImage="",this.postId="",this.visitorMode=!0,this.dataDone=!1,this.visible=[!1,!1,!1],this.skeletonOn=!0,this.selectedReason="",this.reasonText="",this.loadingReport=!1,this.type="",this.contentId="",this.url="",this.namesOfcomment=[],this.namesOfreply=[],this.played=[],this.commentId="",this.replayId="",this.userAcc="",R(this.platformId)&&(this.translate.use(localStorage.getItem("front-lang")==null?"ar":localStorage.getItem("front-lang")),this.token=localStorage.getItem("token"),this.url=window?.location.origin+"/facility/post/",this.visitorMode=localStorage.getItem("isVisitor")=="true",this.myPostMode=localStorage.getItem("profile-mode")=="page",this.profile.getAllAccounts().subscribe({next:Z=>{console.log(Z),Z?.data?.forEach(B=>{B.page_type=="user"?(this.userImage=B.img,console.log("cc"),this.userId=B?.id):(this.facilityImage=B?.img,this.userImageComment=this.user.facilityImageUrl+B?.img),this.myPostMode?(this.userAcc=B,this.userImageComment=this.user.facilityImageUrl+this.facilityImage):(this.userAcc=B,this.userImageComment=this.user.userImageUrl+this.userImage)})}}))}ngOnInit(){this.userCimmentImageUrl=this.post.commentImageUrl,this.activate.queryParams.subscribe(n=>{this.commentId=n.sub_url,this.replayId=n.sub_sub_url,console.log("Query Params:",this.commentId),this.spinner.show(),this.postImageBaseurl=this.post.PostImageUrl,this.activate.paramMap.subscribe(t=>{console.log(t);let e=t.get("postId");this.postId=t.get("postId"),console.log(this.commentId),this.getPostDetails(e,this.commentId)})}),this.post.getReportingReasons().subscribe({next:n=>{this.reasons=n?.data},error:n=>{console.log(n)}})}getWhatsAppShareLink(n){let t="";return R(this.platformId)&&(t=window?.location.origin+"/facility/post/"+n),`https://api.whatsapp.com/send?text=${encodeURIComponent(t)}`}handleImage(n){n.target.src="assets/images/user.jpg"}getPostDetails(n,t=""){this.post.getPostDetails(n,t).subscribe({next:e=>{R(this.platformId)&&e?.data.page_acc_id!==localStorage.getItem("pageId")&&this.myPostMode&&this.router.navigate(["/home"]),console.log(e),this.spinner.hide(),e?.success?(this.loading=!1,this.postDetails=e?.data,console.log(this.postDetails),setTimeout(()=>{this.imageContainer&&(this.showImagesGrid(),this.dataDone=!0)},200),this.skeletonOn=!1,this.noOfLikesPost=e?.data.statistics.like,this.isInCart=e?.data.is_in_cart,this.noOfComments=e?.data.statistics.commentCount,this.postslike=e?.data.likePost,this.comments=e?.data.comments):this.router.navigate(["/"])},error:e=>{console.log(e)}})}likePost(n,t){this.visitorMode?this.translate.get("please  log in").subscribe(e=>{this.message.add({severity:"warn",detail:e})}):(this.postslike==!0?this.noOfLikesPost--:(this.noOfLikesPost++,this.notify.sendNotificationByType(n,n,"likePost",this.postDetails?.page_acc_id).subscribe({next:e=>{console.log(e)},error:e=>{console.log(e)}})),this.postslike=!this.postslike,this.post.likePageOrPost(n,t).subscribe({next:e=>{console.log(e)},error:e=>{console.log(e)}}))}showImagesGrid(){let n=this.imageContainer.nativeElement.querySelectorAll("img"),t=this.imageContainer.nativeElement.querySelectorAll("video");this.imageContainer&&(n.length===1||t.length==1?(this.imageContainer.nativeElement.classList.add("one"),this.imageContainer.nativeElement.classList.remove("four"),this.imageContainer.nativeElement.classList.remove("two"),this.imageContainer.nativeElement.classList.remove("three")):n.length===2||t.length==2?(this.imageContainer.nativeElement.classList.remove("four"),this.imageContainer.nativeElement.classList.remove("one"),this.imageContainer.nativeElement.classList.remove("three"),this.imageContainer.nativeElement.classList.add("two")):n.length===3||t.length==3?(this.imageContainer.nativeElement.classList.remove("four"),this.imageContainer.nativeElement.classList.remove("two"),this.imageContainer.nativeElement.classList.remove("one"),this.imageContainer.nativeElement.classList.add("three")):(n.length>=4||t.length>=4)&&(this.imageContainer.nativeElement.classList.remove("one"),this.imageContainer.nativeElement.classList.remove("two"),this.imageContainer.nativeElement.classList.remove("three"),this.imageContainer.nativeElement.classList.add("four")))}openDialog(n,t=null,e="add"){n=="post"&&(n="product");let l=e+" "+n;this.translate.get(l).subscribe(d=>{this.ref=this.dialogService.open(Ne,{data:{type:n,post:t},header:d,width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"}})}),this.ref?.onClose.subscribe(d=>{this.common.layerOn=!1,console.log(d),d?.type=="added"?(this.getPostDetails(this.postId),this.message.add({severity:"success",detail:"post is added"})):d?.type=="not compelete"?this.message.add({severity:"error",detail:"something went wrong"}):d?.type=="updated"&&(this.getPostDetails(this.postId),this.message.add({severity:"success",detail:"post updated successfully"}))})}toggleLayer(){this.common.layerOn=!this.common.layerOn}addToCart(n,t,e="1"){this.visitorMode?this.translate.get("please  log in").subscribe(l=>{this.message.add({severity:"warn",detail:l})}):(this.isInCart=(this.isInCart=="0","1"),this.order.addToCart(n,t,e).subscribe({next:l=>{if(console.log(l),l?.success){let d=this.order.cartNum.getValue();this.order.cartNum.next(d+1),this.translate.get("Item added successfully").subscribe(g=>{this.message.add({severity:"success",detail:g})})}else l?.error?(this.translate.get(l?.error).subscribe(d=>{this.message.add({severity:"error",detail:d})}),this.isInCart="0"):(this.translate.get("please try again").subscribe(d=>{this.message.add({severity:"error",detail:d})}),this.isInCart="0")},error:l=>{console.log(l)}}))}GridPostImages(n){console.log(this.imageContainer?.nativeElement)}showDialog(n){this.visible[n]=!0}addReport(){if(!this.selectedReason){this.translate.get("You must select one of these reasons").subscribe(t=>{this.message.add({severity:"error",detail:t})});return}this.loadingReport=!0;let n={reason_id:this.selectedReason,comment:this.reasonText,type:this.type,content_id:this.contentId};console.log(n),this.post.userAddContentReport(n).subscribe({next:t=>{console.log(t),this.loadingReport=!1,this.translate.get("request sent").subscribe(e=>{this.message.add({severity:"success",detail:e})}),this.reportVisible=!1},error:t=>{console.log(t),this.translate.get("please try again").subscribe(e=>{this.message.add({severity:"error",detail:e})}),this.loadingReport=!1}})}getReportReasons(n,t){this.visitorMode?this.translate.get("please  log in").subscribe(e=>{this.message.add({severity:"warn",detail:e})}):(this.type=n,this.contentId=t,this.reportVisible=!0)}onPlay(n,t){this.played[n]||(console.log("cc",n),this.post.increaseVideoViews(t).subscribe({next:e=>{console.log(e)},error:e=>{console.log(e)}})),this.played[n]=!0}ngAfterViewInit(){}};c.\u0275fac=function(t){return new(t||c)(b(Y),b(q),b(H),b(N),b(me),b(ie),b($),b(Ve),b(se),b(L),b(oe),b(Q),b(ae),b(re))},c.\u0275cmp=U({type:c,selectors:[["app-post-details"]],viewQuery:function(t,e){if(t&1&&(be(Fn,5),be(Rn,5),be(Bn,5),be(An,5)),t&2){let l;Ie(l=we())&&(e.popUpImageContainer=l.first),Ie(l=we())&&(e.popUpImageSrc=l.first),Ie(l=we())&&(e.closeBtn=l.first),Ie(l=we())&&(e.imageContainer=l.first)}},features:[Te([L])],decls:104,vars:89,consts:[["op",""],["menu","matMenu"],["imageContainer",""],[1,"post-details","position-relative","my-3"],[1,"container"],[1,"row"],[1,"col-md-7","mx-auto"],[1,"post-container"],["class","image-container",4,"ngIf"],[3,"visibleChange","modal","draggable","visible"],[1,"d-flex","justify-content-center","align-items-center","h-100","gap-2","flex-wrap"],["class","my-2 w-100 text-center d-flex flex-column",4,"ngFor","ngForOf"],[3,"visibleChange","modal","visible"],[4,"ngIf"],[1,"details","p-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fw-bold"],[1,"description","p-2"],[3,"innerHTML"],["class","d-flex justify-content-between",4,"ngIf"],["class","price p-2",4,"ngIf"],[1,"post-reactions","p-2"],[1,"d-flex","justify-content-start","align-items-center","gap-4","reactions-count"],[1,"d-flex","align-items-center",2,"color","#7A7A7A"],[1,"mx-1"],["class","d-flex align-items-center","style","color: #7A7A7A;",4,"ngIf"],[1,"d-flex","align-items-center",2,"color","#7A7A7A",3,"click"],[1,"fa-solid","fa-thumbs-up","mx-1"],["class","d-flex align-items-center","style","color: #7A7A7A;",3,"click",4,"ngIf"],[1,"fa-solid","fa-share","mx-1"],[1,"d-flex","align-items-center"],["target","_blank",1,"whatapp-link","d-flex","justify-content-center","align-content-center",3,"href"],[1,"fa-brands","fa-whatsapp"],[3,"theme","include","show","url"],["mat-icon-button","",1,"d-flex","align-items-center",2,"color","#7A7A7A","width","60px",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis","mx-1"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",4,"ngIf"],[1,"comment","position-relative"],[3,"comments","postDetails","commentId","replayId","userAcc",4,"ngIf"],[3,"visibleChange","header","visible","modal","draggable","breakpoints"],[1,"mb-4"],[1,"d-flex","flex-column","gap-3"],["class","field-checkbox",4,"ngFor","ngForOf"],["rows","5","cols","30","pInputTextarea","",3,"ngModelChange","placeholder","ngModel"],[1,"text-center"],[1,"btn","bg-main","confirm-btn",3,"click","disabled"],["class","text-white",4,"ngIf"],["class","loader",4,"ngIf"],[1,"image-container"],[4,"ngFor","ngForOf"],["class","more","style","cursor: pointer;",3,"click",4,"ngIf"],["style","cursor: pointer;",3,"src","alt","error","click",4,"ngIf"],[1,"more",2,"cursor","pointer",3,"click"],[3,"error","src","alt"],[2,"cursor","pointer",3,"error","click","src","alt"],[1,"my-2","w-100","text-center","d-flex","flex-column"],["alt","Image",3,"onImageError","src","preview"],[1,"mt-2"],[1,"rounded-pill","text-white","px-2",2,"background-color","#7A7A7A"],["controls","",3,"play","click",4,"ngIf"],["controls","",3,"play",4,"ngIf"],["controls","",3,"play"],["type","video/mp4",3,"src"],["controls","",3,"play","click"],["width","100%","height","400px","styleClass","mb-2",1,"skeleton"],["width","200px","height","20px","styleClass","mb-2"],["width","100px","height","20px","styleClass","mb-2"],[1,"d-flex","justify-content-between"],[1,"price","p-2"],["class","d-flex justify-content-between align-items-center",4,"ngIf"],[2,"color","#DB3022"],["style","color: #80B127;",4,"ngIf"],[2,"color","#80B127"],[1,"fa-solid","fa-cart-shopping","mx-1"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[3,"comments","postDetails","commentId","replayId","userAcc"],[1,"field-checkbox"],["name","reason",3,"ngModelChange","inputId","value","ngModel"],[1,"mx-2",3,"for"],[1,"text-white"],[1,"loader"]],template:function(t,e){if(t&1){let l=w();s(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),h(5,qn,3,1,"div",8),s(6,"p-dialog",9),T("visibleChange",function(g){return x(l),k(e.visible[0],g)||(e.visible[0]=g),C(g)}),s(7,"div",10),h(8,Hn,5,4,"div",11),r()(),h(9,$n,3,1,"div",8),s(10,"p-dialog",12),T("visibleChange",function(g){return x(l),k(e.visible[1],g)||(e.visible[1]=g),C(g)}),s(11,"div",10),h(12,Kn,5,4,"div",11),r()(),h(13,to,3,1,"div",8),s(14,"p-dialog",9),T("visibleChange",function(g){return x(l),k(e.visible[2],g)||(e.visible[2]=g),C(g)}),s(15,"div",10),h(16,no,5,3,"div",11),r()()(),h(17,oo,2,0,"div",13),s(18,"div",14)(19,"div",15),h(20,ao,2,0,"div",13),s(21,"span",16),_(22),r(),s(23,"span"),_(24),u(25,"date"),r(),h(26,so,2,0,"div",13),r()(),s(27,"div",17)(28,"div",15),f(29,"span",18),r(),h(30,ro,2,0,"div",13),r(),h(31,lo,5,0,"div",19)(32,go,2,1,"div",20),s(33,"div",21)(34,"mat-list"),f(35,"mat-divider"),s(36,"mat-list-item")(37,"div",22)(38,"span",23)(39,"span",24),_(40),r(),s(41,"span"),_(42),u(43,"translate"),r()(),s(44,"span",23)(45,"span",24),_(46),r(),s(47,"span"),_(48),u(49,"translate"),r()(),h(50,_o,6,4,"span",25),r()(),f(51,"mat-divider"),s(52,"mat-list-item")(53,"div",15)(54,"button",26),y("click",function(){return x(l),C(e.likePost(e.postDetails==null?null:e.postDetails.id,e.postDetails==null?null:e.postDetails.type))}),s(55,"span"),f(56,"i",27),r(),s(57,"span"),_(58),u(59,"translate"),r()(),h(60,fo,6,5,"button",28),s(61,"button",26),y("click",function(g){x(l);let M=P(68);return C(M.toggle(g))}),s(62,"span"),f(63,"i",29),r(),s(64,"span"),_(65),u(66,"translate"),r()(),s(67,"p-overlayPanel",null,0)(69,"div",30)(70,"a",31)(71,"button"),f(72,"i",32),r()(),f(73,"share-buttons",33),r()(),s(74,"button",34),f(75,"i",35),s(76,"span"),_(77),u(78,"translate"),r()(),s(79,"mat-menu",null,1),h(81,uo,4,3,"button",36)(82,ho,4,3,"button",36)(83,vo,4,3,"button",37),r()()(),f(84,"mat-divider"),r()(),s(85,"div",38),h(86,xo,1,5,"app-commnents",39),r()()()()(),f(87,"p-toast"),s(88,"p-dialog",40),u(89,"translate"),T("visibleChange",function(g){return x(l),k(e.reportVisible,g)||(e.reportVisible=g),C(g)}),s(90,"div")(91,"h6",41),_(92),u(93,"translate"),r()(),s(94,"div",42),h(95,Co,4,5,"div",43),s(96,"div")(97,"textarea",44),u(98,"translate"),T("ngModelChange",function(g){return x(l),k(e.reasonText,g)||(e.reasonText=g),C(g)}),_(99,"            "),r()(),s(100,"div",45)(101,"button",46),y("click",function(){return x(l),C(e.addReport())}),h(102,yo,3,3,"span",47)(103,bo,1,0,"span",48),r()()()()}if(t&2){let l=P(80);a(5),p("ngIf",(e.postDetails==null?null:e.postDetails.type)=="post"),a(),A(F(83,Ke)),p("modal",!0)("draggable",!1),D("visible",e.visible[0]),a(2),p("ngForOf",e.postDetails==null?null:e.postDetails.attachment),a(),p("ngIf",(e.postDetails==null?null:e.postDetails.type)=="image"),a(),A(F(84,Ke)),p("modal",!0),D("visible",e.visible[1]),a(2),p("ngForOf",e.postDetails==null?null:e.postDetails.attachment),a(),p("ngIf",(e.postDetails==null?null:e.postDetails.type)=="video"),a(),A(F(85,Ke)),p("modal",!0)("draggable",!1),D("visible",e.visible[2]),a(2),p("ngForOf",e.postDetails==null?null:e.postDetails.attachment),a(),p("ngIf",e.skeletonOn),a(3),p("ngIf",e.skeletonOn),a(2),S(e.postDetails==null?null:e.postDetails.product_name),a(2),S(Ze(25,64,e.postDetails==null?null:e.postDetails.date_added,"dd/MM/yyyy")),a(2),p("ngIf",e.skeletonOn),a(3),p("innerHTML",e.postDetails==null?null:e.postDetails.description,ee),a(),p("ngIf",e.skeletonOn),a(),p("ngIf",e.skeletonOn),a(),p("ngIf",(e.postDetails==null?null:e.postDetails.avilability)||(e.postDetails==null?null:e.postDetails.price)),a(8),I(" ",e.noOfLikesPost," "),a(2),I(" ",v(43,67,"likes")," "),a(4),I(" ",e.noOfComments," "),a(2),I(" ",v(49,69,"comments")," "),a(2),p("ngIf",(e.postDetails==null?null:e.postDetails.type)=="video"),a(6),ne(e.postslike?"text-like ":""),a(2),I(" ",v(59,71,"like")," "),a(2),p("ngIf",!e.myPostMode&&(e.postDetails==null?null:e.postDetails.type)=="post"&&(e.postDetails==null?null:e.postDetails.avilability)=="Available"),a(5),I(" ",v(66,73,"share")," "),a(5),p("href",e.getWhatsAppShareLink(e.postDetails==null?null:e.postDetails.id),O),a(3),p("theme","default")("include",F(86,jn))("show",5)("url",e.url+(e.postDetails==null?null:e.postDetails.id)),a(),p("matMenuTriggerFor",l),a(3),S(v(78,75,"More")),a(4),p("ngIf",!e.myPostMode),a(),p("ngIf",e.myPostMode),a(),p("ngIf",e.myPostMode),a(3),p("ngIf",e.dataDone),a(2),A(F(87,Ln)),V("header",v(89,77,"report content")),D("visible",e.reportVisible),p("modal",!0)("draggable",!1)("breakpoints",F(88,Un)),a(4),S(v(93,79,"report message")),a(3),p("ngForOf",e.reasons),a(2),V("placeholder",v(98,81,"write reason")),D("ngModel",e.reasonText),a(4),p("disabled",e.loadingReport),a(),p("ngIf",!e.loadingReport),a(),p("ngIf",e.loadingReport)}},dependencies:[W,z,Ae,K,J,X,Re,de,Le,je,Ue,ce,ge,Fe,St,_e,Pt,ht,xt,Ct,Ht,et,ft,G],styles:['.post-details[_ngcontent-%COMP%], .post-details[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-family:themify22,sans-serif}.post-details[_ngcontent-%COMP%]   .text-rate[_ngcontent-%COMP%]{color:#f9af2c}.post-details[_ngcontent-%COMP%]     .mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{font-family:themify22,sans-serif}.post-details[_ngcontent-%COMP%]     .p-skeleton:after{background:linear-gradient(90deg,#fff0,#ffffffe6,#fff0)}.post-details[_ngcontent-%COMP%]     .p-dialog .p-dialog-content{display:flex;justify-content:center;align-items:center}.post-details[_ngcontent-%COMP%]     .p-card .p-card-content{padding:.25rem 0}.post-details[_ngcontent-%COMP%]     span{font-family:themify22,sans-serif}.post-details[_ngcontent-%COMP%]     .p-button{background:transparent;color:#7a7a7a;border-color:#cdcdcd;border-radius:10px;font-weight:700;padding:10px 25px;white-space:nowrap;font-family:themify22,sans-serif}@media screen and (max-width: 577px){.post-details[_ngcontent-%COMP%]     .p-button{font-size:14px}}.post-details[_ngcontent-%COMP%]     .mdc-list-item{padding-left:0;padding-right:0}.post-details[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]{background:#fff;overflow:hidden;border-radius:10px;padding-bottom:10px}.post-details[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;max-height:340px}.post-details[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;object-fit:cover;border-radius:8px}.post-details[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;box-shadow:0 2px 4px #0000001a;border-radius:8px;overflow:hidden;max-height:340px}@media screen and (max-width: 577px){.post-details[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{border-radius:10px}}.post-details[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;display:block}.post-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:none;margin:0;padding:0;font:inherit;cursor:pointer;outline:none;font-family:themify22,sans-serif}.post-details[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: 577px){.post-details[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.post-details[_ngcontent-%COMP%]   .reactions-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#999}.post-details[_ngcontent-%COMP%]   .text-like[_ngcontent-%COMP%]{color:#1e76ff}.post-details[_ngcontent-%COMP%]   .rating-dialog[_ngcontent-%COMP%]     .p-rating .p-rating-item.p-rating-item-active .p-rating-icon{color:#f9af2c}.post-details[_ngcontent-%COMP%]   .rating-dialog[_ngcontent-%COMP%]     .p-button{border:none;padding:0;display:block;margin-inline-start:auto;color:#1e76ff}.post-details[_ngcontent-%COMP%]   .rating-dialog[_ngcontent-%COMP%]     .p-dialog-content{width:50vw}@media screen and (max-width: 577px){.post-details[_ngcontent-%COMP%]   .rating-dialog[_ngcontent-%COMP%]     .p-dialog-content{width:100vw;padding:10px 20px}}.post-details[_ngcontent-%COMP%]   .comment-img[_ngcontent-%COMP%]{width:50px;height:50px;flex-shrink:0}.post-details[_ngcontent-%COMP%]   .comment-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;object-fit:cover;min-height:50px}@media screen and (max-width: 577px){.post-details[_ngcontent-%COMP%]   .comment-img[_ngcontent-%COMP%]{width:40px;height:40px}}.post-details[_ngcontent-%COMP%]   .comment-details[_ngcontent-%COMP%]{background-color:#8ec32a0d;padding:10px;border-radius:10px}@media screen and (max-width: 577px){.post-details[_ngcontent-%COMP%]   .comment-details[_ngcontent-%COMP%]{padding:5px}}.post-details[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]{padding:5px 2px}.post-details[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]     .mat-icon{height:48px;width:48px}.post-details[_ngcontent-%COMP%]   .v-line[_ngcontent-%COMP%]{width:1px;background-color:#d0d5dd;height:100%}.post-details[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px}.post-details[_ngcontent-%COMP%]   .comment-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word}.post-details[_ngcontent-%COMP%]     .p-image-preview-container{max-height:340px}.post-details[_ngcontent-%COMP%]     .p-image-preview-container img{max-width:100%;object-fit:cover;border-radius:8px}.post-details[_ngcontent-%COMP%]     .p-accordion-header-link{border:none;color:#7a7a7a}.post-details[_ngcontent-%COMP%]     .p-accordion .p-accordion-content{border:none;background-color:transparent}.post-details[_ngcontent-%COMP%]     .p-accordion .p-accordion-header:not(.p-highlight):not(.p-disabled):hover .p-accordion-header-link{background:transparent;border-color:transparent}.post-details[_ngcontent-%COMP%]     .p-accordion .p-accordion-header:not(.p-disabled).p-highlight:hover .p-accordion-header-link{background:transparent;border-color:transparent}.post-details[_ngcontent-%COMP%]     .p-accordion .p-accordion-content{padding:0}.post-details[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]{background-color:#8ec32a0d;padding:10px 5px;border-radius:10px}.post-details[_ngcontent-%COMP%]   .pop-up-image[_ngcontent-%COMP%]{transition:.5s all;background-color:#fff}.post-details[_ngcontent-%COMP%]   .pop-up-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.5s all}.post-details[_ngcontent-%COMP%]   .h-0[_ngcontent-%COMP%]{height:0}.post-details[_ngcontent-%COMP%]   .w-0[_ngcontent-%COMP%]{width:0}.post-details[_ngcontent-%COMP%]   .user-comment-input[_ngcontent-%COMP%]{transition:1s all ease-in-out}.post-details[_ngcontent-%COMP%]   .h-auto[_ngcontent-%COMP%]{height:auto}  .mat-mdc-menu-item-text span{font-family:themify22,sans-serif}  span{font-family:themify22,sans-serif}.post-container[_ngcontent-%COMP%]{width:100%;border-radius:10px;overflow:hidden;background:#fff}.post-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:grid;gap:2px;height:400px;overflow:hidden}.post-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border:1px solid rgba(122,122,122,.5215686275);border-radius:10px}.post-container[_ngcontent-%COMP%]   .image-container.one[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}.post-container[_ngcontent-%COMP%]   .image-container.one[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{aspect-ratio:2/1}.post-container[_ngcontent-%COMP%]   .image-container.two[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.post-container[_ngcontent-%COMP%]   .image-container.two[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{aspect-ratio:2/1}.post-container[_ngcontent-%COMP%]   .image-container.three[_ngcontent-%COMP%]{grid-template-columns:2fr 2fr;grid-template-rows:1fr 1fr;grid-template-areas:"a b" "a c"}.post-container[_ngcontent-%COMP%]   .image-container.three[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{aspect-ratio:2/1}.post-container[_ngcontent-%COMP%]   .image-container.three[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first-child, .post-container[_ngcontent-%COMP%]   .image-container.three[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]:first-child{grid-area:a}.post-container[_ngcontent-%COMP%]   .image-container.three[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2), .post-container[_ngcontent-%COMP%]   .image-container.three[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]:nth-child(2){grid-area:b}.post-container[_ngcontent-%COMP%]   .image-container.three[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(3), .post-container[_ngcontent-%COMP%]   .image-container.three[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]:nth-child(3){grid-area:c}.post-container[_ngcontent-%COMP%]   .image-container.four[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr)}.post-container[_ngcontent-%COMP%]   .image-container.four[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{aspect-ratio:2/1}.post-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{position:relative}.post-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]:after{content:attr(data-count);position:absolute;top:0;left:0;width:100%;height:100%;background:#0009;color:#fff;display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:700}.btn[_ngcontent-%COMP%]:disabled{background-color:var(--main-color)}.loader[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid #6a6565;border-bottom-color:var(--main-color);border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .p-toast .p-toast-message .p-toast-message-content .p-toast-detail{font-family:themify22,sans-serif;margin:.3rem .5rem}  .p-image-preview-container img{width:100%;max-height:340px;border-radius:8px}  h6{font-family:themify22,sans-serif}  .post-reactions .p-dialog .p-dialog-content{flex-direction:column}  .field-checkbox label{font-family:themify22,sans-serif}  .confirm-btn{padding:10px 60px!important;border:none!important;background-color:#80b127!important}  .p-inputtextarea{font-family:themify22,sans-serif;width:100%}.whatapp-link[_ngcontent-%COMP%]{text-align:center;width:100%;height:100%;min-width:2em;font-size:var(--sb-icon-size, 1.2em)}.whatapp-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:4px;padding:1.5px 20px;border:none;margin:0 5px;outline:0;background-color:#25d366;color:#fff}  .sb-group{flex-wrap:nowrap!important}']});let i=c;return i})();var Io=[{path:"all/:id/:name",canActivate:[kt],component:Vt},{path:"details/:pageId",component:qt},{path:"post/:postId",component:Qt}],Gt=(()=>{let c=class c{};c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=Me({type:c}),c.\u0275inj=Pe({imports:[ze.forChild(Io),ze]});let i=c;return i})();var La=(()=>{let c=class c{};c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=Me({type:c}),c.\u0275inj=Pe({imports:[tt,Gt,Ot,vt,st.forRoot({loader:{provide:at,useFactory:Dt,deps:[it]}}),yt,nt]});let i=c;return i})();export{La as FaciiltiesModule};
